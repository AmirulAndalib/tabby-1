"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6506],{68172:function(e,n,t){t.d(n,{q:function(){return o}});var r=t(36164),a=t(38785);function o(e){let{children:n,fallback:t=null}=e;return(0,a.U)()?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsx)(r.Fragment,{children:t})}},30601:function(e,n,t){t.d(n,{Hb:function(){return m},wt:function(){return c},xc:function(){return h},yo:function(){return f}});var r=t(36164),a=t(3546),o=t(74630),s=t(36327),i=t(80605),l=t(74248),d=t(81565);let c="3.5rem",u=a.createContext({}),f=e=>{let{children:n}=e,t=(0,i.UA)(),[s,l]=a.useState(!1);return a.useEffect(()=>{let e=window.self!==window.top;e||(0,o.Z)(t)||l(t)},[t]),(0,r.jsx)(u.Provider,{value:{isShowDemoBanner:s,setIsShowDemoBanner:l},children:n})};function m(){let{isShowDemoBanner:e,setIsShowDemoBanner:n}=a.useContext(u);return[e,n]}function h(){let[e,n]=m(),{data:t}=(0,s.Z)("https://api.github.com/repos/TabbyML/tabby",e=>fetch(e).then(e=>e.json()));return(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center justify-between bg-primary px-4 text-primary-foreground transition-all md:px-5",{"opacity-100 pointer-events-auto":e,"opacity-0 pointer-events-none":!e}),style:e?{height:c}:{height:0},children:[(0,r.jsxs)("a",{href:"https://links.tabbyml.com/schedule-a-demo",target:"_blank",className:"flex items-center gap-x-2 text-xs font-semibold underline md:text-sm",children:[(0,r.jsx)("span",{children:"\uD83D\uDCC6"}),(0,r.jsx)("span",{children:"Book a 30-minute product demo."})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 md:gap-x-8",children:[(0,r.jsxs)("a",{href:"https://github.com/TabbyML/tabby",target:"_blank",className:"flex items-center transition-all hover:opacity-70",children:[(0,r.jsx)(d.IconGithub,{}),(0,r.jsxs)("div",{className:"ml-2 hidden md:block",children:[(0,r.jsx)("p",{className:"text-xs font-semibold",children:"TabbyML/tabby"}),(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center text-xs transition-all",{"h-4 opacity-70":t,"h-0 opacity-0":!t}),children:[(0,r.jsx)(d.IconStar,{className:"mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==t?void 0:t.stargazers_count}),(0,r.jsx)(d.IconGitFork,{className:"ml-2 mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==t?void 0:t.forks_count})]})]})]}),(0,r.jsx)(d.IconClose,{className:"cursor-pointer transition-all hover:opacity-70",onClick:()=>n(!1)})]})]})}},63743:function(e,n,t){t.d(n,{T:function(){return l}});var r=t(36164),a=t(3546),o=t(28242),s=t(31458),i=t(81565);function l(e){let{className:n}=e,{setTheme:t,theme:l}=(0,o.F)(),[d,c]=a.useTransition();return(0,r.jsxs)(s.z,{variant:"ghost",size:"icon",onClick:()=>{c(()=>{t("light"===l?"dark":"light")})},className:n,children:["dark"===l?(0,r.jsx)(i.IconMoon,{className:"transition-all"}):(0,r.jsx)(i.IconSun,{className:"transition-all"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},31458:function(e,n,t){t.d(n,{d:function(){return l},z:function(){return d}});var r=t(36164),a=t(3546),o=t(74047),s=t(14375),i=t(74248);let l=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,n)=>{let{className:t,variant:a,size:s,asChild:d=!1,...c}=e,u=d?o.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(l({variant:a,size:s,className:t})),ref:n,...c})});d.displayName="Button"},62202:function(e,n,t){t.d(n,{$F:function(){return l},AW:function(){return c},Ju:function(){return f},VD:function(){return m},Xi:function(){return u},h_:function(){return i}});var r=t(36164),a=t(3546),o=t(19148),s=t(74248);let i=o.fC,l=o.xz;o.ZA,o.Uv,o.Tr,o.Ee;let d=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(o.tu,{ref:n,className:(0,s.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",t),...a})});d.displayName=o.tu.displayName;let c=a.forwardRef((e,n)=>{let{className:t,sideOffset:a=4,...i}=e;return(0,r.jsx)(o.Uv,{children:(0,r.jsx)(o.VY,{ref:n,sideOffset:a,className:(0,s.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});c.displayName=o.VY.displayName;let u=a.forwardRef((e,n)=>{let{className:t,inset:a,...i}=e;return(0,r.jsx)(o.ck,{ref:n,className:(0,s.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...i})});u.displayName=o.ck.displayName;let f=a.forwardRef((e,n)=>{let{className:t,inset:a,...i}=e;return(0,r.jsx)(o.__,{ref:n,className:(0,s.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...i})});f.displayName=o.__.displayName;let m=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(o.Z0,{ref:n,className:(0,s.cn)("-mx-1 my-1 h-px bg-muted",t),...a})});m.displayName=o.Z0.displayName},57830:function(e,n,t){t.d(n,{x:function(){return i}});var r=t(36164),a=t(3546),o=t(50778),s=t(74248);let i=a.forwardRef((e,n)=>{let{className:t,children:a,...i}=e;return(0,r.jsxs)(o.fC,{ref:n,className:(0,s.cn)("relative overflow-hidden",t),...i,children:[(0,r.jsx)(o.l_,{className:"h-full w-full rounded-[inherit] [&>div]:!block",children:a}),(0,r.jsx)(l,{}),(0,r.jsx)(o.Ns,{})]})});i.displayName=o.fC.displayName;let l=a.forwardRef((e,n)=>{let{className:t,orientation:a="vertical",...i}=e;return(0,r.jsx)(o.gb,{ref:n,orientation:a,className:(0,s.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:(0,r.jsx)(o.q4,{className:"relative flex-1 rounded-full bg-border"})})});l.displayName=o.gb.displayName},3448:function(e,n,t){t.d(n,{O:function(){return o}});var r=t(36164),a=t(74248);function o(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",n),...t})}},52569:function(e,n,t){t.d(n,{Y:function(){return b},n:function(){return N}});var r=t(36164),a=t(3546),o=t(87782),s=t(21454),i=t(36327),l=t(98454),d=t(3765),c=t(74248),u=t(66612);let f=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(u.fC,{ref:n,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});f.displayName=u.fC.displayName;let m=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(u.Ee,{ref:n,className:(0,c.cn)("aspect-square h-full w-full",t),...a})});m.displayName=u.Ee.displayName;let h=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(u.NY,{ref:n,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});h.displayName=u.NY.displayName;var p=t(3448),x=t(30410).lW;let v="not_found",g=!0;function b(e){var n,t,s,u;let{className:b,fallback:N}=e,[{data:j}]=(0,l.P)(),w=null==j?void 0:j.me.id,y=w&&"/avatar/".concat(j.me.id)||null,{data:A,isLoading:k,error:C}=(0,i.Z)(y,e=>{if(g)return(0,d.Z)(e,{responseFormatter:async e=>{let n=await e.blob(),t=x.from(await n.arrayBuffer());return"data:image/png;base64,".concat(t.toString("base64"))},errorHandler:e=>{if(404===e.status)throw Error(v)}})}),R=a.useMemo(()=>{var e;if(null==j?void 0:null===(e=j.me)||void 0===e?void 0:e.email)return(0,o.B)(j.me.email)},[null==j?void 0:null===(n=j.me)||void 0===n?void 0:n.email]);return k?(0,r.jsx)(p.O,{className:(0,c.cn)("h-16 w-16 rounded-full",b)}):((null==C?void 0:C.message)===v&&(g=!1),A||R||!N)?!A&&R?(0,r.jsx)(o.Z,{className:(0,c.cn)("h-16 w-16",b),...R}):(0,r.jsxs)(f,{className:(0,c.cn)("h-16 w-16",b),children:[(0,r.jsx)(m,{src:A,alt:null==j?void 0:null===(t=j.me)||void 0===t?void 0:t.email,className:"object-cover"}),(0,r.jsx)(h,{children:null==j?void 0:null===(u=j.me)||void 0===u?void 0:null===(s=u.email)||void 0===s?void 0:s.substring(0,2)})]}):N}let N=e=>{g=!0,(0,s.JG)("/avatar/".concat(e))}},7449:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(36164),a=t(3546),o=t(98454),s=t(80605),i=t(91302),l=t(62202),d=t(81565);function c(e){let{children:n}=e,t=(0,i.QJ)(),[{data:c}]=(0,o.P)(),u=null==c?void 0:c.me,f=(0,s.xG)(),[m,h]=a.useState(!1),p=async e=>{e.preventDefault(),h(!0),await t(),h(!1)};if(u)return(0,r.jsxs)(l.h_,{children:[(0,r.jsx)(l.$F,{children:n}),(0,r.jsxs)(l.AW,{collisionPadding:{right:16},children:[u.name&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Ju,{className:"pb-0.5",children:u.name}),(0,r.jsx)(l.Ju,{className:"pb-1 pt-0 text-sm font-normal text-muted-foreground",children:u.email})]}),!u.name&&(0,r.jsx)(l.Ju,{children:u.email}),(0,r.jsx)(l.VD,{}),(0,r.jsxs)(l.Xi,{onClick:()=>window.open("/"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconHome,{}),(0,r.jsx)("span",{className:"ml-2",children:"Home"})]}),f&&(0,r.jsxs)(l.Xi,{onClick:()=>window.open("/playground"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconChat,{}),(0,r.jsx)("span",{className:"ml-2",children:"Chat Playground"})]}),(0,r.jsxs)(l.Xi,{onClick:()=>window.open("/files"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconCode,{}),(0,r.jsx)("span",{className:"ml-2",children:"Code Browser"})]}),(0,r.jsxs)(l.Xi,{onClick:()=>window.open("/api"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconBackpack,{}),(0,r.jsx)("span",{className:"ml-2",children:"API Docs"})]}),(0,r.jsx)(l.VD,{}),(0,r.jsxs)(l.Xi,{disabled:m,onClick:p,className:"cursor-pointer",children:[(0,r.jsx)(d.IconLogout,{}),(0,r.jsx)("span",{className:"ml-2",children:"Sign out"}),m&&(0,r.jsx)(d.IconSpinner,{className:"ml-1"})]})]})]})}},38785:function(e,n,t){t.d(n,{U:function(){return o}});var r=t(3546);let a=!0;function o(){let[e,n]=r.useState(()=>!a);return r.useEffect(function(){a=!1,n(!0)},[]),e}},98454:function(e,n,t){t.d(n,{P:function(){return s}});var r=t(40055),a=t(43240);let o=(0,a.BX)("\n  query MeQuery {\n    me {\n      id\n      authToken\n      email\n      isAdmin\n      isPasswordSet\n      name\n    }\n  }\n"),s=()=>(0,r.aM)({query:o})},3765:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(44745),a=t(57778),o=t(79716),s=t(91302),i=t(66794);async function l(e,n){var t;let r=null!==(t=null==n?void 0:n.customFetch)&&void 0!==t?t:window.fetch;if(function(e){var n;if(e.startsWith("/oauth/providers"))return!1;let t=null===(n=(0,i.bW)())||void 0===n?void 0:n.accessToken;if(!t)return!0;try{let{exp:e}=(0,o.o)(t);return(0,i.pw)(e)}catch(e){return!0}}(e))return i.gN.refreshToken(d).then(t=>f(e,n));let a=await r(e,c(n));return 401===a.status?(i.gN.clearAccessToken(),i.gN.refreshToken(d).then(t=>f(e,n))):m(a,n)}async function d(){var e,n;let t=null===(e=(0,i.bW)())||void 0===e?void 0:e.refreshToken;if(!t)return;let r=await u(t);return null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.refreshToken}function c(e){var n;let t=new Headers(null==e?void 0:e.headers);return t.append("authorization","Bearer ".concat(null===(n=(0,i.bW)())||void 0===n?void 0:n.accessToken)),{...e||{},headers:t}}async function u(e){let n=new r.KU({url:"/graphql",requestPolicy:"network-only",exchanges:[r.Ek]}),t=n.createRequestOperation("mutation",(0,a.h)(s.Dp,{refreshToken:e}));return n.executeMutation(t)}function f(e,n){var t;let r=null!==(t=null==n?void 0:n.customFetch)&&void 0!==t?t:window.fetch;return r(e,c(n)).then(e=>m(e,n))}function m(e,n){return(null==e?void 0:e.ok)?(null==n?void 0:n.responseFormatter)?n.responseFormatter(e):(null==n?void 0:n.responseFormat)==="blob"?e.blob():e.json():(null==n?void 0:n.errorHandler)?n.errorHandler(e):void 0}},83332:function(e,n){n.Z={src:"/_next/static/media/logo-dark.362a169d.png",height:149,width:395,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAQAAAAEwYbDAAAAOklEQVR42gXAIQqAMBQA0A+K3eIVHNhEk21Wk5iN4g6w6z9GyBaDZDLr9OH0qD6/4nWHUZLtNqvL0QDmsR1AxwcSfQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3}},76531:function(e,n){n.Z={src:"/_next/static/media/logo.526f7cf9.png",height:184,width:607,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASklEQVR4nGPsKQh1f/HshV/PqtNtagrC8p++//rDAgQM//9/ZWJifMZYnRqg9+bVq6iZ51+1SP/5ovH//z8eRgbGbwyMjPxA9n0AMi8g2L1xUkUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}}}]);