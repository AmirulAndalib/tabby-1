(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{28242:function(e,t,n){"use strict";n.d(t,{F:function(){return c},f:function(){return u}});var r=n(3546);let o=["light","dark"],s="(prefers-color-scheme: dark)",l="undefined"==typeof window,a=(0,r.createContext)(void 0),i={setTheme:e=>{},themes:[]},c=()=>{var e;return null!==(e=(0,r.useContext)(a))&&void 0!==e?e:i},u=e=>(0,r.useContext)(a)?r.createElement(r.Fragment,null,e.children):r.createElement(m,e),d=["light","dark"],m=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:l=!0,storageKey:i="theme",themes:c=d,defaultTheme:u=n?"system":"light",attribute:m="data-theme",value:g,children:v,nonce:b})=>{let[w,y]=(0,r.useState)(()=>h(i,u)),[j,N]=(0,r.useState)(()=>h(i)),S=g?Object.values(g):c,k=(0,r.useCallback)(e=>{let r=e;if(!r)return;"system"===e&&n&&(r=x());let s=g?g[r]:r,a=t?p():null,i=document.documentElement;if("class"===m?(i.classList.remove(...S),s&&i.classList.add(s)):s?i.setAttribute(m,s):i.removeAttribute(m),l){let e=o.includes(u)?u:null,t=o.includes(r)?r:e;i.style.colorScheme=t}null==a||a()},[]),E=(0,r.useCallback)(e=>{y(e);try{localStorage.setItem(i,e)}catch(e){}},[e]),_=(0,r.useCallback)(t=>{let r=x(t);N(r),"system"===w&&n&&!e&&k("system")},[w,e]);(0,r.useEffect)(()=>{let e=window.matchMedia(s);return e.addListener(_),_(e),()=>e.removeListener(_)},[_]),(0,r.useEffect)(()=>{let e=e=>{e.key===i&&E(e.newValue||u)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),(0,r.useEffect)(()=>{k(null!=e?e:w)},[e,w]);let A=(0,r.useMemo)(()=>({theme:w,setTheme:E,forcedTheme:e,resolvedTheme:"system"===w?j:w,themes:n?[...c,"system"]:c,systemTheme:n?j:void 0}),[w,E,e,j,n,c]);return r.createElement(a.Provider,{value:A},r.createElement(f,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:l,storageKey:i,themes:c,defaultTheme:u,attribute:m,value:g,children:v,attrs:S,nonce:b}),v)},f=(0,r.memo)(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:l,enableColorScheme:a,defaultTheme:i,value:c,attrs:u,nonce:d})=>{let m="system"===i,f="class"===n?`var d=document.documentElement,c=d.classList;c.remove(${u.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?o.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(e,t=!1,r=!0)=>{let s=c?c[e]:e,l=t?e+"|| ''":`'${s}'`,i="";return a&&r&&!t&&o.includes(e)&&(i+=`d.style.colorScheme = '${e}';`),"class"===n?i+=t||s?`c.add(${l})`:"null":s&&(i+=`d[s](n,${l})`),i},x=e?`!function(){${f}${p(e)}}()`:l?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${s}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${p(c?"x[e]":"e",!0)}}${m?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${p(c?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return r.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:x}})},()=>!0),h=(e,t)=>{let n;if(!l){try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},p=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},x=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light")},72845:function(e,t,n){Promise.resolve().then(n.bind(n,72900))},72900:function(e,t,n){"use strict";n.r(t),n.d(t,{Search:function(){return K},SearchContext:function(){return $}});var r=n(36164),o=n(3546),s=n(42891),l=n.n(s),a=n(70652),i=n.n(a),c=n(83332),u=n(76531),d=n(23342),m=n(56575),f=n(28242),h=n(64148),p=n(93668),x=n(21808),g=n(93877),v=n(80605),b=n(49142),w=n(3765),y=n(74248),j=n(31458),N=n(90958),S=n(90615),k=n(81565),E=n(57830),_=n(11208),A=n(3448),C=n(72657),T=n(68172),I=n(48537),L=n(30601),Z=n(73033),F=n(94529),R=n(63743),z=n(52569),O=n(7449);n(2489);let $=(0,o.createContext)({}),D=(e,t)=>(0,w.Z)(e,{...t,responseFormatter:e=>e,errorHandler(e){throw Error(e?String(e.status):"Fail to fetch")}}),M={compress:5,expand:7};function K(){let e=(0,v.xG)(),[t]=(0,g.Ot)(),[n]=(0,L.Hb)(),{theme:s}=(0,f.F)(),[a,h]=(0,o.useState)([]),[p,w]=(0,o.useState)(!1),[N,S]=(0,o.useState)(null),[A,I]=(0,o.useState)(""),[Z,M]=(0,o.useState)(""),K=(0,o.useRef)(null),{triggerRequest:G,isLoading:V,error:q,answer:U,stop:B}=(0,b.t)({fetcher:D});(0,o.useEffect)(()=>{let e=sessionStorage.getItem(x.$6.SEARCH_INITIAL_MSG);e&&(Y(e),sessionStorage.removeItem(x.$6.SEARCH_INITIAL_MSG))},[]),(0,o.useEffect)(()=>{A&&(document.title=A)},[A]),(0,o.useEffect)(()=>{var e;S(null==K?void 0:null===(e=K.current)||void 0===e?void 0:e.children[1])},[null==K?void 0:K.current]),(0,o.useEffect)(()=>{if(!U)return;let e=[...a],t=e.find(e=>e.id===Z);t&&(t.content=U.answer_delta||"",t.relevant_documents=U.relevant_documents,t.relevant_questions=U.relevant_questions,t.isLoading=V,h(e))},[V,U]),(0,o.useEffect)(()=>{if(q){let e=[...a],t=e.find(e=>e.id===Z);t&&(t.error="401"===q.message?"Unauthorized":"Fail to fetch",t.isLoading=!1)}},[q]),(0,o.useEffect)(()=>{V&&!p&&setTimeout(()=>{if(w(!0),N){let e=Z===a[a.length-1].id;e&&N.scrollTo({top:N.scrollHeight,behavior:"smooth"})}},1500),!V&&p&&w(!1)},[V]);let Y=e=>{let t=a.map(e=>({role:e.role,id:e.id,content:e.content})),n=t.length>0&&t[0].id,r=(0,m.x0)(),o={id:n||(0,m.x0)(),role:"user",content:e},s={messages:[...t,o],doc_query:!0,generate_relevant_questions:!0};M(r),h([...a].concat([o,{id:r,role:"assistant",content:"",isLoading:!0}])),G(s),A||I(e)};if(!t.value||!e)return(0,r.jsx)(r.Fragment,{});let J=0===a.length,Q=n?{height:"calc(100vh - ".concat(L.wt,")")}:{height:"100vh"};return(0,r.jsx)($.Provider,{value:{isLoading:V,onRegenerateResponse:e=>{let t=a.findIndex(t=>t.id===e);if(t<1)return;let n=t-1,r=a[n],o=a.slice(0,n).map(e=>({role:e.role,id:e.id,content:e.content})),s={role:"user",id:r.id,content:r.content},l={messages:[...o,s],doc_query:!0,generate_relevant_questions:!0},i=[...a],c=i[t];c.content="",c.relevant_documents=void 0,c.error=void 0,c.isLoading=!0,M(c.id),h(i),G(l)},onSubmitSearch:Y},children:(0,r.jsxs)("div",{className:"flex flex-col transition-all",style:Q,children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-between border-b px-10 py-3",children:[(0,r.jsx)(i(),{href:"/",children:(0,r.jsx)(l(),{src:"dark"===s?c.Z:u.Z,alt:"logo",width:80})}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsx)(T.q,{children:(0,r.jsx)(R.T,{})}),(0,r.jsx)(O.Z,{children:(0,r.jsx)(z.Y,{className:"h-8 w-8 border"})})]})]}),(0,r.jsx)(E.x,{className:"flex-1",ref:K,children:(0,r.jsx)("div",{className:"mx-auto px-10 pb-24 lg:max-w-4xl lg:px-0",children:(0,r.jsx)("div",{className:"flex flex-col",children:a.map((e,t)=>"user"===e.role?(0,r.jsxs)("div",{children:[0!==t&&(0,r.jsx)(_.Z,{}),(0,r.jsx)("div",{className:"pb-2 pt-8",children:(0,r.jsx)(P,{message:e.content,headline:!0})})]},e.id+t):"assistant"===e.role?(0,r.jsx)("div",{className:"pb-8 pt-2",children:(0,r.jsx)(H,{question:"todo",answer:e,showRelatedQuestion:t===a.length-1})},e.id+t):(0,r.jsx)(r.Fragment,{}))})})}),N&&(0,r.jsx)(C.K,{className:"!fixed !bottom-[7rem] !right-10 !top-auto lg:!bottom-[3.8rem]",container:N,offset:100}),(0,r.jsxs)("div",{className:(0,y.cn)("fixed left-0 flex w-full flex-col items-center transition-all",{"bottom-1/2 -mt-48":J,"bottom-5 min-h-[5rem]":!J}),children:[J&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{src:d.Z,alt:"logo",width:42}),(0,r.jsx)("h4",{className:"mb-6 scroll-m-20 text-xl font-semibold tracking-tight text-secondary-foreground",children:"The Private Search Assistant"})]}),!V&&(0,r.jsx)("div",{className:"relative z-20 flex justify-center self-stretch px-10",children:(0,r.jsx)(F.Z,{className:(0,y.cn)({"lg:max-w-2xl":J,"lg:max-w-4xl":!J}),onSearch:Y,placeholder:!J&&"Ask a follow up question"||void 0})}),(0,r.jsxs)(j.z,{className:(0,y.cn)("absolute top-2 z-0 flex items-center gap-x-2 px-8 py-4",{"opacity-0 pointer-events-none":!p,"opacity-100":p}),style:{transition:"opacity 0.55s ease-out"},variant:"destructive",onClick:B,children:[(0,r.jsx)(k.IconStop,{}),(0,r.jsx)("p",{children:"Stop"})]})]})]})})}function H(e){var t;let{question:n,answer:s,showRelatedQuestion:l}=e,{onRegenerateResponse:a,onSubmitSearch:i,isLoading:c}=(0,o.useContext)($),[u,d]=(0,o.useState)(!1),m=s.relevant_documents?Math.ceil(s.relevant_documents.length/3)*M.expand+.5*Math.floor(s.relevant_documents.length/3):0;return(0,r.jsxs)("div",{className:"flex flex-col gap-y-5",children:[s.relevant_documents&&s.relevant_documents.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center gap-x-2",children:[(0,r.jsx)(k.IconBlocks,{className:"relative",style:{top:"-0.04rem"}}),(0,r.jsx)("p",{className:"text-sm font-bold leading-normal",children:"Source"})]}),(0,r.jsx)("div",{className:"gap-sm grid grid-cols-3 gap-2 overflow-hidden",style:{transition:"height 0.25s ease-out",height:u?"".concat(m,"rem"):"".concat(M.compress,"rem")},children:s.relevant_documents.map((e,t)=>(0,r.jsx)(G,{source:e,showMore:u,index:t+1},e.link))}),(0,r.jsxs)(j.z,{variant:"ghost",className:"-ml-1.5 mt-1 flex items-center gap-x-1 px-1 py-2 text-sm font-normal text-muted-foreground",onClick:()=>d(!u),children:[(0,r.jsx)(k.IconChevronRight,{className:(0,y.cn)({"-rotate-90":u,"rotate-90":!u})}),(0,r.jsx)("p",{children:u?"Show less":"Show more"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,r.jsx)(k.IconSparkles,{className:(0,y.cn)({"sparkle-animation":s.isLoading})}),(0,r.jsx)("p",{className:"text-sm font-bold leading-none",children:"Answer"})]}),s.isLoading&&!s.content&&(0,r.jsx)(A.O,{className:"mt-1 h-40 w-full"}),(0,r.jsx)(P,{message:s.content,sources:s.relevant_documents}),s.error&&(0,r.jsx)(q,{error:s.error}),!s.isLoading&&(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-x-3 text-sm",children:[(0,r.jsx)(I.q,{className:"-ml-1.5 gap-x-1 px-1 font-normal text-muted-foreground",value:(e=>{if(!e.relevant_documents)return e.content;let t=e.content.replace(/\[\[?citation:\s*\d+\]?\]/g,(e,t)=>{let n=null==e?void 0:e.match(/\d+/);return"[".concat(n,"]")}).trim(),n=e.relevant_documents.map((e,t)=>"[".concat(t+1,"] ").concat(e.link)).join("\n");return"".concat(t,"\n\nCitations:\n").concat(n)})(s),text:"Copy"}),!c&&(0,r.jsxs)(j.z,{className:"flex items-center gap-x-1 px-1 font-normal text-muted-foreground",variant:"ghost",onClick:a.bind(null,s.id),children:[(0,r.jsx)(k.IconRefresh,{}),(0,r.jsx)("p",{children:"Regenerate"})]})]})]}),l&&!s.isLoading&&s.relevant_questions&&s.relevant_questions.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,r.jsx)(k.IconLayers,{}),(0,r.jsx)("p",{className:"text-sm font-bold leading-none",children:"Related"})]}),(0,r.jsx)("div",{className:"mt-3 flex flex-col gap-y-3",children:null===(t=s.relevant_questions)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border p-4 py-3 transition-opacity hover:opacity-70",onClick:i.bind(null,e),children:[(0,r.jsx)("p",{className:"w-full overflow-hidden text-ellipsis text-sm",children:e}),(0,r.jsx)(k.IconPlus,{})]},t))})]})]})}function G(e){let{source:t,index:n,showMore:o}=e,{hostname:s}=new URL(t.link);return(0,r.jsxs)("div",{className:"flex cursor-pointer flex-col justify-between gap-y-1 rounded-lg border bg-card px-4 py-2 transition-all hover:bg-card/60",style:{height:o?"".concat(M.expand,"rem"):"".concat(M.compress,"rem")},onClick:()=>window.open(t.link),children:[(0,r.jsx)("p",{className:"line-clamp-2 w-full overflow-hidden text-ellipsis break-all text-xs font-semibold",children:t.title}),o&&(0,r.jsx)("p",{className:"line-clamp-2 w-full overflow-hidden text-ellipsis break-all text-xs text-muted-foreground",children:t.snippet}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(V,{hostname:s,className:"mr-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-x-0.5 text-xs text-muted-foreground",children:[(0,r.jsx)("p",{className:"flex-1 overflow-hidden text-ellipsis",children:s.replace("www.","").split(".")[0]}),(0,r.jsx)("span",{className:"relative -top-1.5 text-xl leading-none",children:"."}),(0,r.jsx)("p",{children:n})]})]})]})}function P(e){let{message:t,headline:n=!1,sources:o}=e;return(0,r.jsx)(Z.s,{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[h.Z,p.Z],components:{p(e){let{children:t}=e;return n?(0,r.jsx)("h3",{className:"break-anywhere cursor-text scroll-m-20 text-xl font-semibold tracking-tight",children:t}):t.length?(0,r.jsx)("div",{className:"mb-2 inline-block leading-relaxed last:mb-0",children:t.map((e,t)=>{if("string"==typeof e){let n=/\[\[?citation:\s*\d+\]?\]/g,s=e.split(n),l=e.match(n);return(0,r.jsx)("span",{children:s.map((e,t)=>{let n=null==l?void 0:l[t],s=null==n?void 0:n.match(/\d+/),a=s?parseInt(s[0],10):null,i=null!==a?null==o?void 0:o[a-1]:null,c=i?new URL(i.link):null;return(0,r.jsxs)("span",{children:[e&&(0,r.jsx)("span",{children:e}),i&&(0,r.jsxs)(S.zs,{children:[(0,r.jsx)(S.Yi,{children:(0,r.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs",onClick:()=>window.open(i.link),children:a})}),(0,r.jsx)(S.bZ,{className:"w-96 text-sm",children:(0,r.jsxs)("div",{className:"flex w-full flex-col gap-y-1",children:[(0,r.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,r.jsx)(V,{hostname:c.hostname,className:"m-0 mr-1 leading-none"}),(0,r.jsx)("p",{className:"m-0 leading-none",children:c.hostname})]}),(0,r.jsx)("p",{className:"m-0 cursor-pointer font-bold leading-none transition-opacity hover:opacity-70",onClick:()=>window.open(i.link),children:i.title}),(0,r.jsx)("p",{className:"m-0 leading-none",children:i.snippet})]})})]})]},t)})},t)}return(0,r.jsx)("span",{children:e},t)})}):(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:t})},code(e){let{node:t,inline:n,className:o,children:s,...l}=e;if(s.length){if("▍"==s[0])return(0,r.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});s[0]=s[0].replace("`▍`","▍")}let a=/language-(\w+)/.exec(o||"");return n?(0,r.jsx)("code",{className:o,...l,children:s}):(0,r.jsx)(N.dn,{language:a&&a[1]||"",value:String(s).replace(/\n$/,""),...l},Math.random())}},children:t})}function V(e){let{hostname:t,className:n}=e;return(0,r.jsx)("img",{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(t),alt:t,className:(0,y.cn)("h-3.5 w-3.5 rounded-full leading-none",n)})}function q(e){let{error:t="Fail to fetch"}=e,n=(0,o.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:t},null,2)+"\n```",[t]);return(0,r.jsx)(Z.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[h.Z,p.Z],components:{code(e){let{node:t,inline:n,className:o,children:s,...l}=e;return(0,r.jsx)("div",{...l,className:(0,y.cn)(o,"bg-zinc-950 p-2"),children:s})}},children:n})}},72657:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(36164);n(3546);var o=n(12624),s=n(74248),l=n(31458),a=n(81565);function i(e){let{className:t,container:n,offset:i,...c}=e,u=(0,o.e)(i||0,n);return(0,r.jsxs)(l.z,{variant:"outline",size:"icon",className:(0,s.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",u?"opacity-0":"opacity-100",t),onClick:()=>{n?n.scrollTo({top:n.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,r.jsx)(a.IconArrowDown,{}),(0,r.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},48537:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(36164);n(3546);var o=n(28312),s=n(31458),l=n(81565);function a(e){let{className:t,value:n,onCopyContent:a,text:i,...c}=e,{isCopied:u,copyToClipboard:d}=(0,o.m)({timeout:2e3,onCopyContent:a});return n?(0,r.jsxs)(s.z,{variant:"ghost",size:i?"default":"icon",className:t,onClick:()=>{u||d(n)},...c,children:[u?(0,r.jsx)(l.IconCheck,{className:"text-green-600"}):(0,r.jsx)(l.IconCopy,{}),i&&(0,r.jsx)("span",{children:i}),!i&&(0,r.jsx)("span",{className:"sr-only",children:"Copy"})]}):null}},73033:function(e,t,n){"use strict";n.d(t,{s:function(){return s}});var r=n(3546),o=n(52991);let s=(0,r.memo)(o.D,(e,t)=>e.children===t.children&&e.className===t.className)},94529:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(36164),o=n(3546),s=n(23455),l=n(74248),a=n(81565);function i(e){let{onSearch:t,className:n,placeholder:i}=e,[c,u]=(0,o.useState)(!1),[d,m]=(0,o.useState)(!1),[f,h]=(0,o.useState)("");(0,o.useEffect)(()=>{u(!0)},[]);let p=()=>{f&&(t(f),h(""))};return(0,r.jsxs)("div",{className:(0,l.cn)("flex w-full items-center rounded-lg border border-muted-foreground bg-background transition-all hover:border-muted-foreground/60",{"!border-primary":d},n),children:[(0,r.jsx)(s.Z,{className:(0,l.cn)("flex-1 resize-none rounded-lg !border-none bg-transparent px-4 py-3 !shadow-none !outline-none !ring-0 !ring-offset-0",{"!h-[48px]":!c}),placeholder:i||"Ask anything",maxRows:5,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey)return e.preventDefault()},onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey)return p()},onFocus:()=>m(!0),onBlur:()=>m(!1),onChange:e=>h(e.target.value),value:f}),(0,r.jsx)("div",{className:(0,l.cn)("mr-3 flex items-center rounded-lg bg-muted p-1 text-muted-foreground transition-all",{"!bg-primary !text-primary-foreground":f.length>0}),onClick:p,children:(0,r.jsx)(a.IconArrowRight,{className:"h-3.5 w-3.5"})})]})}},90958:function(e,t,n){"use strict";n.d(t,{dn:function(){return u}});var r=n(36164),o=n(3546),s=n(73162),l=n(83008),a=n(28312),i=n(31458),c=n(81565);let u=(0,o.memo)(e=>{let{language:t,value:n,onCopyContent:o}=e,{isCopied:u,copyToClipboard:d}=(0,a.m)({timeout:2e3,onCopyContent:o});return(0,r.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,r.jsx)("span",{className:"text-xs lowercase",children:t}),(0,r.jsx)("div",{className:"flex items-center space-x-1",children:(0,r.jsxs)(i.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{u||d(n)},children:[u?(0,r.jsx)(c.IconCheck,{}):(0,r.jsx)(c.IconCopy,{}),(0,r.jsx)("span",{className:"sr-only",children:"Copy code"})]})})]}),(0,r.jsx)(s.Z,{language:t,style:l.RY,PreTag:"div",showLineNumbers:!0,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},children:n})]})});u.displayName="CodeBlock"},90615:function(e,t,n){"use strict";n.d(t,{Yi:function(){return i},bZ:function(){return c},zs:function(){return a}});var r=n(36164),o=n(3546),s=n(38421),l=n(74248);let a=s.fC,i=s.xz,c=o.forwardRef((e,t)=>{let{className:n,align:o="center",sideOffset:a=4,...i}=e;return(0,r.jsx)(s.VY,{ref:t,align:o,sideOffset:a,className:(0,l.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})});c.displayName=s.VY.displayName},11208:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(36164),o=n(3546),s=n(74225),l=n(74248);let a=o.forwardRef((e,t)=>{let{className:n,orientation:o="horizontal",decorative:a=!0,...i}=e;return(0,r.jsx)(s.f,{ref:t,decorative:a,orientation:o,className:(0,l.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",n),...i})});a.displayName=s.f.displayName},21808:function(e,t,n){"use strict";n.d(t,{$6:function(){return s},L8:function(){return o},o0:function(){return r}});let r="name@yourcompany.com",o=20,s={DEMO_AUTO_LOGIN:"_tabby_demo_autologin",SEARCH_INITIAL_MSG:"_tabby_search_initial_msg"}},93877:function(e,t,n){"use strict";n.d(t,{BT:function(){return i},Ds:function(){return c},Ot:function(){return d}});var r=n(3546);let o=(e,t)=>{let[n,o]=(0,r.useState)(t),[s,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let t=localStorage.getItem(e);t&&o(JSON.parse(t)),l(!1)},[]),[n,t=>{o(t),localStorage.setItem(e,JSON.stringify(t))},s]};class s{get value(){if("undefined"!=typeof localStorage){let e=localStorage.getItem(this.storageKey);if(e)return"true"===e}return this.defaultValue}constructor(e,t,n,r){this.storageKey=e,this.title=t,this.description=n,this.defaultValue=r}}class l{defineGlobalVar(){return new s(this.storageKey,this.title,this.description,this.defaultValue)}defineHook(){return()=>{let[e,t,n]=o(this.storageKey,this.defaultValue);return[{value:e,title:this.title,description:this.description,loading:n},()=>{t(!e)}]}}constructor(e,t,n,r){this.storageKey="EXP_".concat(e),this.title=t,this.description=n,this.defaultValue=null!=r&&r}}let a=new l("enable_code_browser_quick_action_bar","Quick Action Bar","Enable Quick Action Bar to display a convenient toolbar when you select code, offering options to explain the code, add unit tests, and more.",!0),i=a.defineGlobalVar(),c=a.defineHook(),u=new l("enable_search","Search","Enable the search on the home page to search for anything you want to know using the local chat model.",!1);u.defineGlobalVar();let d=u.defineHook()},12624:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(3546),o=n(62940);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,[n,s]=r.useState(!1);return r.useEffect(()=>{if(t)return;let n=(0,o.Z)(()=>{s(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0}),n(),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[e,t]),r.useEffect(()=>{if(!t)return;let n=(0,o.Z)(()=>{let{scrollTop:n,clientHeight:r,scrollHeight:o}=t;s(n+r>=o-e)},100,{leading:!0});return t.addEventListener("scroll",n,{passive:!0}),t.addEventListener("resize",n,{passive:!0}),n(),()=>{t.removeEventListener("scroll",n),t.removeEventListener("resize",n)}},[e,t]),n}},28312:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(3546),o=n(61200),s=n.n(o),l=n(2578);function a(e){let{timeout:t=2e3,onError:n,onCopyContent:o}=e,[a,i]=r.useState(!1),c=()=>{i(!0),setTimeout(()=>{i(!1)},t)},u=e=>{if("function"==typeof n){null==n||n(e);return}l.A.error("Failed to copy.")};return{isCopied:a,copyToClipboard:e=>{var t;if(e){if(o){o(e),c();return}if(null===(t=navigator.clipboard)||void 0===t?void 0:t.writeText)navigator.clipboard.writeText(e).then(c).catch(u);else{let t=s()(e);t?c():u()}}}}}},49142:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var r=n(3546),o=n(15696);function s(e){let{api:t="/v1beta/answer",onError:n,headers:s,fetcher:l}=e,[a,i]=r.useState(!1),[c,u]=r.useState(),[d,m]=r.useState(),f=r.useRef(null),h=e=>{if("event"===e.type&&"data"in e){let t=JSON.parse(e.data);t&&u(e=>p(e,t))}},p=(e,t)=>{var n,r;return e?{...e,answer_delta:"".concat(null!==(n=null==e?void 0:e.answer_delta)&&void 0!==n?n:"").concat(null!==(r=null==t?void 0:t.answer_delta)&&void 0!==r?r:""),relevant_documents:(null==t?void 0:t.relevant_documents)||e.relevant_documents,relevant_questions:(null==t?void 0:t.relevant_questions)||e.relevant_questions}:t},x=async e=>{try{i(!0),m(void 0),u(void 0);let n=new AbortController;f.current=n;let r=null!=l?l:window.fetch,a=await r(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",...s},signal:null==n?void 0:n.signal}).catch(e=>{throw e});if(!(null==a?void 0:a.ok))throw Error(String(a.status));if(null==a.body)throw Error("The response body is empty");let c=a.body.pipeThrough(new TextDecoderStream).pipeThrough(new o.m).getReader();for(;;){let{done:e,value:t}=await c.read();if(e)break;h(t)}}catch(e){if((null==e?void 0:e.name)==="AbortError")return f.current=null,null;n&&e instanceof Error&&n(e),m(e)}finally{i(!1)}};return{isLoading:a,answer:c,error:d,setError:m,triggerRequest:x,stop:()=>{f.current&&(f.current.abort(),f.current=null)}}}},2489:function(){},23342:function(e,t){"use strict";t.Z={src:"/_next/static/media/tabby.16ac81a9.png",height:175,width:175,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA50lEQVR42mMAgUWTGw3KsqO9QOypZeG6NekBuQzI4NCmmaZtFam/K6PtHzYlOH5ysDX7n5QYboJQsKrfd1JN6v+ldXH/F+fa/fWyNf4fEebXBlcwsSbNeWV/+f9FE+t+za2K+xNjLfPf293u6v///xkZQGDDwr7gfetm/d8xr+VPkpXgnzR3nf/xAY6vt6yfK84AUrV5+US9HWtnnVgyrfm/tiTD/9JAo//5Ea5nGUDAkoGBCUQHWEiZysuI7LcwN7wb6WV1IT7YzR7uhh3Lepg+AU2av2AiT0pCuDKDayAvSLwsM4oJAH4LXl0Gpb0HAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},1333:function(e,t,n){"use strict";n.d(t,{Pc:function(){return y},ck:function(){return T},fC:function(){return C}});var r=n(65122),o=n(3546),s=n(65727),l=n(85656),a=n(79869),i=n(47091),c=n(29434),u=n(72205),d=n(17957),m=n(27250),f=n(57541);let h="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},x="RovingFocusGroup",[g,v,b]=(0,l.B)(x),[w,y]=(0,i.b)(x,[b]),[j,N]=w(x),S=(0,o.forwardRef)((e,t)=>(0,o.createElement)(g.Provider,{scope:e.__scopeRovingFocusGroup},(0,o.createElement)(g.Slot,{scope:e.__scopeRovingFocusGroup},(0,o.createElement)(k,(0,r.Z)({},e,{ref:t}))))),k=(0,o.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:l,loop:i=!1,dir:c,currentTabStopId:x,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:w,...y}=e,N=(0,o.useRef)(null),S=(0,a.e)(t,N),k=(0,f.gm)(c),[E=null,_]=(0,m.T)({prop:x,defaultProp:g,onChange:b}),[C,T]=(0,o.useState)(!1),I=(0,d.W)(w),L=v(n),Z=(0,o.useRef)(!1),[F,R]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let e=N.current;if(e)return e.addEventListener(h,I),()=>e.removeEventListener(h,I)},[I]),(0,o.createElement)(j,{scope:n,orientation:l,dir:k,loop:i,currentTabStopId:E,onItemFocus:(0,o.useCallback)(e=>_(e),[_]),onItemShiftTab:(0,o.useCallback)(()=>T(!0),[]),onFocusableItemAdd:(0,o.useCallback)(()=>R(e=>e+1),[]),onFocusableItemRemove:(0,o.useCallback)(()=>R(e=>e-1),[])},(0,o.createElement)(u.WV.div,(0,r.Z)({tabIndex:C||0===F?-1:0,"data-orientation":l},y,{ref:S,style:{outline:"none",...e.style},onMouseDown:(0,s.M)(e.onMouseDown,()=>{Z.current=!0}),onFocus:(0,s.M)(e.onFocus,e=>{let t=!Z.current;if(e.target===e.currentTarget&&t&&!C){let t=new CustomEvent(h,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=L().filter(e=>e.focusable),t=e.find(e=>e.active),n=e.find(e=>e.id===E),r=[t,n,...e].filter(Boolean),o=r.map(e=>e.ref.current);A(o)}}Z.current=!1}),onBlur:(0,s.M)(e.onBlur,()=>T(!1))})))}),E=(0,o.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:l=!0,active:a=!1,tabStopId:i,...d}=e,m=(0,c.M)(),f=i||m,h=N("RovingFocusGroupItem",n),p=h.currentTabStopId===f,x=v(n),{onFocusableItemAdd:b,onFocusableItemRemove:w}=h;return(0,o.useEffect)(()=>{if(l)return b(),()=>w()},[l,b,w]),(0,o.createElement)(g.ItemSlot,{scope:n,id:f,focusable:l,active:a},(0,o.createElement)(u.WV.span,(0,r.Z)({tabIndex:p?0:-1,"data-orientation":h.orientation},d,{ref:t,onMouseDown:(0,s.M)(e.onMouseDown,e=>{l?h.onItemFocus(f):e.preventDefault()}),onFocus:(0,s.M)(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:(0,s.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let o=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(o))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(o)))return _[o]}(e,h.orientation,h.dir);if(void 0!==t){e.preventDefault();let o=x().filter(e=>e.focusable),s=o.map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var n,r;"prev"===t&&s.reverse();let o=s.indexOf(e.currentTarget);s=h.loop?(n=s,r=o+1,n.map((e,t)=>n[(r+t)%n.length])):s.slice(o+1)}setTimeout(()=>A(s))}})})))}),_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}let C=S,T=E},7600:function(e,t,n){"use strict";var r=n(48717).Z.Symbol;t.Z=r},17996:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7600),o=Object.prototype,s=o.hasOwnProperty,l=o.toString,a=r.Z?r.Z.toStringTag:void 0,i=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=l.call(e);return r&&(t?e[a]=n:delete e[a]),o},c=Object.prototype.toString,u=r.Z?r.Z.toStringTag:void 0,d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?i(e):c.call(e)}},64380:function(e,t){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;t.Z=n},48717:function(e,t,n){"use strict";var r=n(64380),o="object"==typeof self&&self&&self.Object===Object&&self,s=r.Z||o||Function("return this")();t.Z=s},84639:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},96786:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}},55357:function(e,t,n){"use strict";var r=n(17996),o=n(96786);t.Z=function(e){return"symbol"==typeof e||(0,o.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}},59348:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=/\s/,o=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t},s=/^\s+/,l=n(84639),a=n(55357),i=0/0,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=parseInt,f=function(e){if("number"==typeof e)return e;if((0,a.Z)(e))return i;if((0,l.Z)(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=(0,l.Z)(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,o(t)+1).replace(s,""):t;var r=u.test(e);return r||d.test(e)?m(e.slice(2),r?2:8):c.test(e)?i:+e}}},function(e){e.O(0,[872,55,3004,658,652,6201,2578,3449,9421,1454,4546,9275,956,9610,5606,9148,6806,4965,778,7444,1565,3396,6506,3375,5289,1744],function(){return e(e.s=72845)}),_N_E=e.O()}]);