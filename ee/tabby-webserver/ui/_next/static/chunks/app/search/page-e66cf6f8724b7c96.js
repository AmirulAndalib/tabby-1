(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{72845:function(e,t,n){Promise.resolve().then(n.bind(n,91378))},91378:function(e,t,n){"use strict";n.r(t),n.d(t,{Search:function(){return Q},SearchContext:function(){return K}});var r=n(36164),s=n(3546),a=n(42891),l=n.n(a),o=n(11978),i={src:"/_next/static/media/default-favicon.a2df8fbb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABAElEQVR42mOAAqaMgrXeIYlL2jwjF7WZey7wBolB5eyZotNX1PdMO/Br466r/89dfvx/w7aLv6LSlteDFem5zPPesPXir20Hbv7ftPfGrz9///969urL/xkLj/0KjlvqzZCct6rt9r3X/w+cvP/r8fOP/0Hg/uN3vzbsvPq/rmVzG0Nk+oq2J8/f///89devOw/f/n/7/uv/T19+/Dpx7uH/3NK1bQwMarO8tu66/Auk89qd17/mrzn/682H7//3H7rxi4FhsheDDYMhU0DC0vqde6/+On/lyf/5q878X7Tq9M+E7JX1cJ/4MpgzMajO9ApNXtoWl7mszc5nvhdMEgB1uZJfA01kRAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},c=n(62226),d=n.n(c),u=n(6797),m=n.n(u),f=n(66686),p=n(56575),x=n(64148),h=n(93668),g=n(21808),v=n(93877),j=n(9010),N=n(16784),b=n(80605),y=n(49142),w=n(3765),_=n(74248),k=n(31458),S=n(90958),C=n(90615),E=n(81565),A=n(53538),I=n(57830),z=n(11208),R=n(3448),L=n(72657),T=n(68172),O=n(48537),D=n(30601),q=n(73033),Z=n(94529),H=n(63743),M=n(52569),Y=n(7449);n(2489);var P=n(82030),X=n(40055),V=n(70410),F=n(29),J=n(80054),U=n(90379);let B=(0,s.lazy)(()=>n.e(726).then(n.t.bind(n,80726,23))),G=e=>{let{value:t,isFullScreen:n,onToggleFullScreen:a,onClose:l}=e,[o]=(0,v.m3)(),{theme:i}=(0,j.X)(),c=(0,s.useRef)(null);return((0,s.useEffect)(()=>{if(t){var e,n,r;null===(r=c.current)||void 0===r||null===(n=r.children)||void 0===n||null===(e=n[1])||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}},[t]),(null==o?void 0:o.value)&&open)?(0,r.jsxs)("div",{className:"flex h-full flex-col px-3 pt-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-end pb-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(k.z,{variant:"ghost",size:"icon",onClick:e=>a(!n),children:(0,r.jsx)(E.IconChevronDown,{className:(0,_.cn)("transition-all",n?"":"rotate-180")})}),(0,r.jsx)(k.z,{variant:"ghost",size:"icon",onClick:l,children:(0,r.jsx)(E.IconClose,{})})]})}),(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(U.cg,{className:"p-2"}),children:t?(0,r.jsx)(I.ScrollArea,{className:"flex-1",ref:c,children:(0,r.jsx)(B,{theme:"dark"===i?"tomorrow":"rjv-default",src:t,style:{fontSize:"0.75rem"},collapseStringsAfterLength:120})}):null})]}):null},K=(0,s.createContext)({}),$=(e,t)=>(0,w.Z)(e,{...t,responseFormatter:e=>e,errorHandler(e){throw Error(e?String(e.status):"Fail to fetch")}}),W={compress:5.3,expand:6.3};function Q(){let e;let t=(0,b.xG)(),[n]=(0,v.Ot)(),[a,l]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[m,f]=(0,s.useState)(""),[x,h]=(0,s.useState)(!1),[w,S]=(0,s.useState)({}),[C,R]=(0,s.useState)(""),O=(0,s.useRef)(null),[q,F]=(0,s.useState)(!1),[J]=(0,D.Hb)(),U=(0,o.useRouter)(),B=(0,s.useRef)(!1),{theme:W}=(0,j.X)(),[Q,et]=(0,s.useState)(!1),[en,es]=(0,s.useState)(),ea=(0,s.useRef)(null),[el,eo]=(0,s.useState)(45),ei=(0,s.useRef)(el),[{data:ec}]=(0,X.aM)({query:V.zz}),ed=null==ec?void 0:ec.repositoryList,{triggerRequest:eu,isLoading:em,error:ef,answer:ep,stop:ex}=(0,y.t)({fetcher:$}),eh=(0,N.d)(em),eg=(0,s.useMemo)(()=>a.find(e=>e.id===en),[en,a]),ev=(0,s.useMemo)(()=>eg?(0,P.Z)(eg,"relevant_documents","relevant_code"):{answers:a.filter(e=>"assistant"===e.role).map(e=>(0,P.Z)(e,"relevant_documents","relevant_code"))},[en,null==eg?void 0:eg.relevant_documents,null==eg?void 0:eg.relevant_code]);(0,s.useEffect)(()=>{if(B.current)return;B.current=!0;let e=sessionStorage.getItem(g.$6.SEARCH_INITIAL_MSG),t=sessionStorage.getItem(g.$6.SEARCH_INITIAL_EXTRA_CONTEXT),n=t?JSON.parse(t):void 0;if(e){sessionStorage.removeItem(g.$6.SEARCH_INITIAL_MSG),sessionStorage.removeItem(g.$6.SEARCH_INITIAL_EXTRA_CONTEXT),h(!0),S(e=>({...e,repository:null==n?void 0:n.repository})),ej(e,{repository:null==n?void 0:n.repository});return}U.replace("/")},[]),(0,s.useEffect)(()=>{m&&(document.title=m)},[m]),(0,s.useEffect)(()=>{x&&setTimeout(()=>{F(!0)},300)},[x]),(0,s.useEffect)(()=>{var e;u(null==O?void 0:null===(e=O.current)||void 0===e?void 0:e.children[1])},[null==O?void 0:O.current]),(0,s.useEffect)(()=>{let e=[...a],t=e.find(e=>e.id===C);t&&(t.content=(null==ep?void 0:ep.answer_delta)||"",t.relevant_code=null==ep?void 0:ep.relevant_code,t.relevant_documents=null==ep?void 0:ep.relevant_documents,t.relevant_questions=null==ep?void 0:ep.relevant_questions,t.isLoading=em,l(e))},[em,ep]),(0,s.useEffect)(()=>{if(ef){let e=[...a],t=e.find(e=>e.id===C);t&&(t.error="401"===ef.message?"Unauthorized":"Fail to fetch",t.isLoading=!1)}},[ef]),(0,s.useEffect)(()=>(eh.current&&(e=window.setTimeout(()=>{if(eh.current&&(c(!0),d)){let e=C===a[a.length-1].id;e&&d.scrollTo({top:d.scrollHeight,behavior:"smooth"})}},300)),eh.current||c(!1),()=>{window.clearTimeout(e)}),[em]),(0,s.useEffect)(()=>()=>{eh.current&&ex()},[]),(0,s.useEffect)(()=>{var e,t,n;Q?(null===(e=ea.current)||void 0===e||e.expand(),null===(t=ea.current)||void 0===t||t.resize(el)):null===(n=ea.current)||void 0===n||n.collapse()},[Q]);let ej=(e,t)=>{let n=a.map(e=>({role:e.role,id:e.id,content:e.content})),r=n.length>0&&n[0].id,s=(0,p.x0)(),o={id:r||(0,p.x0)(),role:"user",content:e},i=(null==t?void 0:t.repository)||(null==w?void 0:w.repository),c=i?{git_url:i.gitUrl,content:""}:void 0,d={messages:[...n,o],doc_query:!0,generate_relevant_questions:!0,collect_relevant_code_using_user_message:!0,code_query:c};R(s),l([...a].concat([o,{id:s,role:"assistant",content:"",isLoading:!0}])),eu(d),m||f(e)};if(!n.value||!t||!x)return(0,r.jsx)(r.Fragment,{});let eN=J?{height:"calc(100vh - ".concat(D.wt,")")}:{height:"100vh"};return(0,r.jsx)(K.Provider,{value:{isLoading:em,onRegenerateResponse:(e,t)=>{let n=t||a,r=n.findIndex(t=>t.id===e);if(r<1)return;let s=r-1,o=n[s],i=n.slice(0,s).map(e=>({role:e.role,id:e.id,content:e.content,code_query:e.code_query})),c={role:"user",id:o.id,content:o.content},d={messages:[...i,c],code_query:(null==w?void 0:w.repository)?{git_url:w.repository.gitUrl,content:""}:void 0,doc_query:!0,generate_relevant_questions:!0,collect_relevant_code_using_user_message:!0},u=[...n],m=u[r];m.content="",m.relevant_code=void 0,m.relevant_documents=void 0,m.error=void 0,m.isLoading=!0,R(m.id),l(u),eu(d)},onSubmitSearch:ej,extraRequestContext:w,repositoryList:ed,setDevPanelOpen:et,setConversationIdForDev:es},children:(0,r.jsx)("div",{className:"transition-all",style:eN,children:(0,r.jsxs)(A.pO,{direction:"vertical",onLayout:e=>{(null==e?void 0:e[1])&&eo(e[1])},children:[(0,r.jsxs)(A.ee,{children:[(0,r.jsxs)("header",{className:"flex h-16 items-center justify-between px-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-x-6",children:(0,r.jsxs)(k.z,{variant:"ghost",className:"-ml-1 pl-0 text-sm text-muted-foreground",onClick:()=>U.back(),children:[(0,r.jsx)(E.IconChevronLeft,{className:"mr-1 h-5 w-5"}),"Home"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-x-6",children:[(0,r.jsx)(T.q,{children:(0,r.jsx)(H.T,{})}),(0,r.jsx)(Y.Z,{showHome:!1,showSetting:!0,children:(0,r.jsx)(M.Y,{className:"h-10 w-10 border"})})]})]}),(0,r.jsxs)("main",{className:"h-[calc(100%-4rem)] overflow-auto pb-8 lg:pb-0",children:[(0,r.jsx)(I.ScrollArea,{className:"h-full",ref:O,children:(0,r.jsx)("div",{className:"mx-auto px-4 pb-32 lg:max-w-4xl lg:px-0",children:(0,r.jsx)("div",{className:"flex flex-col",children:a.map((e,t)=>"user"===e.role?(0,r.jsxs)("div",{children:[0!==t&&(0,r.jsx)(z.Z,{}),(0,r.jsx)("div",{className:"pb-2 pt-8",children:(0,r.jsx)(er,{message:e.content,headline:!0})})]},e.id+t):"assistant"===e.role?(0,r.jsx)("div",{className:"pb-8 pt-2",children:(0,r.jsx)(ee,{answer:e,showRelatedQuestion:t===a.length-1})},e.id+t):(0,r.jsx)(r.Fragment,{}))})})}),d&&(0,r.jsx)(L.K,{className:"!fixed !bottom-[5.4rem] !right-4 !top-auto z-40 border-muted-foreground lg:!bottom-[2.85rem]",container:d,offset:100,style:"dark"===W?{"--background":"0 0% 12%"}:{}}),(0,r.jsxs)("div",{className:(0,_.cn)("fixed bottom-5 left-0 z-30 flex min-h-[5rem] w-full flex-col items-center gap-y-2",{"opacity-100 translate-y-0":q,"opacity-0 translate-y-10":!q,hidden:Q}),style:Object.assign({transition:"all 0.35s ease-out"},"dark"===W?{"--background":"0 0% 12%"}:{}),children:[(0,r.jsxs)(k.z,{className:(0,_.cn)("bg-background",{"opacity-0 pointer-events-none":!i,"opacity-100":i}),style:{transition:"opacity 0.55s ease-out"},variant:"outline",onClick:ex,children:[(0,r.jsx)(E.IconStop,{className:"mr-2"}),"Stop generating"]}),(0,r.jsx)("div",{className:(0,_.cn)("relative z-20 flex justify-center self-stretch px-4"),children:(0,r.jsx)(Z.Z,{onSearch:ej,className:"lg:max-w-4xl",placeholder:"Ask a follow up question",isLoading:em,isFollowup:!0,extraContext:w})})]})]})]}),(0,r.jsx)(A.Dp,{className:(0,_.cn)("hidden !h-[4px] border-none bg-background shadow-[0px_-4px_4px_rgba(0,0,0,0.2)] hover:bg-blue-500 active:bg-blue-500 dark:shadow-[0px_-4px_4px_rgba(255,255,255,0.2)]",Q&&"block")}),(0,r.jsx)(A.ee,{collapsible:!0,collapsedSize:0,defaultSize:0,ref:ea,onCollapse:()=>et(!1),className:"z-50",children:(0,r.jsx)(G,{onClose:()=>et(!1),value:ev,isFullScreen:100===el,onToggleFullScreen:e=>{var t;let n=ei.current;e?n=100:100===n&&(n=45),null===(t=ea.current)||void 0===t||t.resize(n),eo(n),ei.current=el}})})]})})})}function ee(e){var t;let{answer:n,showRelatedQuestion:a}=e,{onRegenerateResponse:l,onSubmitSearch:o,isLoading:i,setDevPanelOpen:c,setConversationIdForDev:d}=(0,s.useContext)(K),[u]=(0,v.m3)(),[m,f]=(0,s.useState)(!1),p=n.isLoading?E.IconSpinner:E.IconSparkles,x=n.relevant_documents?Math.ceil(n.relevant_documents.length/4)*W.expand+.5*Math.floor(n.relevant_documents.length/4):0,h=(0,s.useMemo)(()=>{var e,t;return null!==(t=null==n?void 0:null===(e=n.relevant_code)||void 0===e?void 0:e.map(e=>{var t;let{scores:n,doc:r}=e,s=null!==(t=null==r?void 0:r.start_line)&&void 0!==t?t:0,a=r.body.split("\n").length;return{kind:"file",range:{start:s,end:s+a-1},filepath:r.filepath,content:r.body,git_url:r.git_url,extra:{scores:n}}}))&&void 0!==t?t:[]},[null==n?void 0:n.relevant_code]);return(0,r.jsxs)("div",{className:"flex flex-col gap-y-5",children:[n.relevant_documents&&n.relevant_documents.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center gap-x-2",children:[(0,r.jsx)(E.IconBlocks,{className:"relative",style:{top:"-0.04rem"}}),(0,r.jsx)("p",{className:"text-sm font-bold leading-normal",children:"Sources"})]}),(0,r.jsx)("div",{className:"gap-sm grid grid-cols-3 gap-2 overflow-hidden md:grid-cols-4",style:{transition:"height 0.25s ease-out",height:m?"".concat(x,"rem"):"".concat(W.compress,"rem")},children:n.relevant_documents.map((e,t)=>(0,r.jsx)(en,{conversationId:n.id,source:e,showMore:m,showDevTooltip:u.value},e.doc.link+t))}),(0,r.jsxs)(k.z,{variant:"ghost",className:"-ml-1.5 mt-1 flex items-center gap-x-1 px-1 py-2 text-sm font-normal text-muted-foreground",onClick:()=>f(!m),children:[(0,r.jsx)(E.IconChevronRight,{className:(0,_.cn)({"-rotate-90":m,"rotate-90":!m})}),(0,r.jsx)("p",{children:m?"Show less":"Show more"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center gap-x-1.5",children:[(0,r.jsx)(p,{className:(0,_.cn)({"animate-spinner":n.isLoading})}),(0,r.jsx)("p",{className:"text-sm font-bold leading-none",children:"Answer"}),u.value&&(0,r.jsx)(k.z,{variant:"ghost",size:"icon",onClick:()=>{d(n.id),c(!0)},children:(0,r.jsx)(E.IconBug,{})})]}),n.relevant_code&&n.relevant_code.length>0&&(0,r.jsx)(J.q,{contexts:h,className:"mt-1 text-sm",onContextClick:e=>{if(!e.filepath)return;let t=new URL("".concat(window.location.origin,"/files")),n=new URLSearchParams;n.append("redirect_filepath",e.filepath),n.append("redirect_git_url",e.git_url),t.search=n.toString();let r=(0,_.nO)({start:e.range.start,end:e.range.end});r&&(t.hash=r),window.open(t.toString())},defaultOpen:!0,enableTooltip:u.value,onTooltipClick:()=>{d(n.id),c(!0)}}),n.isLoading&&!n.content&&(0,r.jsx)(R.O,{className:"mt-1 h-40 w-full"}),(0,r.jsx)(er,{message:n.content,sources:n.relevant_documents}),n.error&&(0,r.jsx)(ea,{error:n.error}),!n.isLoading&&(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-x-3 text-sm",children:[(0,r.jsx)(O.q,{className:"-ml-1.5 gap-x-1 px-1 font-normal text-muted-foreground",value:(e=>{if(!e.relevant_documents)return e.content;let t=e.content.replace(/\[\[?citation:\s*\d+\]?\]/g,(e,t)=>{let n=null==e?void 0:e.match(/\d+/);return"[".concat(n,"]")}).trim(),n=e.relevant_documents.map((e,t)=>"[".concat(t+1,"] ").concat(e.doc.link)).join("\n");return"".concat(t,"\n\nCitations:\n").concat(n)})(n),text:"Copy"}),!i&&(0,r.jsxs)(k.z,{className:"flex items-center gap-x-1 px-1 font-normal text-muted-foreground",variant:"ghost",onClick:()=>l(n.id),children:[(0,r.jsx)(E.IconRefresh,{}),(0,r.jsx)("p",{children:"Regenerate"})]})]})]}),a&&!n.isLoading&&n.relevant_questions&&n.relevant_questions.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,r.jsx)(E.IconLayers,{}),(0,r.jsx)("p",{className:"text-sm font-bold leading-none",children:"Suggestions"})]}),(0,r.jsx)("div",{className:"mt-2 flex flex-col gap-y-3",children:null===(t=n.relevant_questions)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border p-4 py-3 transition-opacity hover:opacity-70",onClick:o.bind(null,e),children:[(0,r.jsx)("p",{className:"w-full overflow-hidden text-ellipsis text-sm",children:e}),(0,r.jsx)(E.IconPlus,{})]},t))})]})]})}let et=e=>{let t=d().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),n=f.TU.parse(t),r=m().decode(n),s=r.replace(/<\/?[^>]+(>|$)/g,"");return s};function en(e){let{conversationId:t,source:n,showMore:a,showDevTooltip:l}=e,{setDevPanelOpen:o,setConversationIdForDev:i}=(0,s.useContext)(K),{hostname:c}=new URL(n.doc.link),[d,u]=(0,s.useState)(!1);return(0,r.jsxs)(F.u,{open:d,onOpenChange:e=>{l&&u(e)},delayDuration:0,children:[(0,r.jsx)(F.aJ,{asChild:!0,children:(0,r.jsx)("div",{className:"flex cursor-pointer flex-col justify-between rounded-lg border bg-card p-3 hover:bg-card/60",style:{height:a?"".concat(W.expand,"rem"):"".concat(W.compress,"rem"),transition:"all 0.25s ease-out"},onClick:()=>window.open(n.doc.link),children:(0,r.jsxs)("div",{className:"flex flex-1 flex-col justify-between gap-y-1",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-0.5",children:[(0,r.jsx)("p",{className:"line-clamp-1 w-full overflow-hidden text-ellipsis break-all text-xs font-semibold",children:n.doc.title}),(0,r.jsx)("p",{className:(0,_.cn)(" w-full overflow-hidden text-ellipsis break-all text-xs text-muted-foreground",{"line-clamp-2":a,"line-clamp-1":!a}),children:et(n.doc.snippet)})]}),(0,r.jsx)("div",{className:"flex items-center text-xs text-muted-foreground",children:(0,r.jsxs)("div",{className:"flex w-full flex-1 items-center",children:[(0,r.jsx)(es,{hostname:c}),(0,r.jsx)("p",{className:"ml-1 overflow-hidden text-ellipsis",children:c.replace("www.","").split("/")[0]})]})})]})})}),(0,r.jsx)(F._v,{align:"start",className:"cursor-pointer p-2",onClick:e=>{e.stopPropagation(),i(t),o(!0)},children:(0,r.jsxs)("p",{children:["Score: ",n.score]})})]})}function er(e){let{message:t,headline:n=!1,sources:s}=e,a=(e,t)=>{let n=/\[\[?citation:\s*\d+\]?\]/g,a=e.split(n),l=e.match(n);return(0,r.jsx)("span",{children:a.map((e,t)=>{let n=null==l?void 0:l[t],a=null==n?void 0:n.match(/\d+/),o=a?parseInt(a[0],10):null,i=null!==o?null==s?void 0:s[o-1]:null,c=i?new URL(i.doc.link):null;return(0,r.jsxs)("span",{children:[e&&(0,r.jsx)("span",{children:e}),i&&(0,r.jsxs)(C.zs,{children:[(0,r.jsx)(C.Yi,{children:(0,r.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs",onClick:()=>window.open(i.doc.link),children:o})}),(0,r.jsx)(C.bZ,{className:"w-96 text-sm",children:(0,r.jsxs)("div",{className:"flex w-full flex-col gap-y-1",children:[(0,r.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,r.jsx)(es,{hostname:c.hostname,className:"m-0 mr-1 leading-none"}),(0,r.jsx)("p",{className:"m-0 leading-none",children:c.hostname})]}),(0,r.jsx)("p",{className:"m-0 cursor-pointer font-bold leading-none transition-opacity hover:opacity-70",onClick:()=>window.open(i.doc.link),children:i.doc.title}),(0,r.jsx)("p",{className:"m-0 line-clamp-4 leading-none",children:et(i.doc.snippet)})]})})]})]},t)})},t)};return(0,r.jsx)(q.s,{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[x.Z,h.Z],components:{p(e){let{children:t}=e;return n?(0,r.jsx)("h3",{className:"break-anywhere cursor-text scroll-m-20 text-xl font-semibold tracking-tight",children:t}):t.length?(0,r.jsx)("div",{className:"mb-2 inline-block leading-relaxed last:mb-0",children:t.map((e,t)=>"string"==typeof e?a(e,t):(0,r.jsx)("span",{children:e},t))}):(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:t})},li(e){let{children:t}=e;return t&&t.length?(0,r.jsx)("li",{children:t.map((e,t)=>"string"==typeof e?a(e,t):(0,r.jsx)("span",{children:e},t))}):(0,r.jsx)("li",{children:t})},code(e){let{node:t,inline:n,className:s,children:a,...l}=e;if(a.length){if("▍"==a[0])return(0,r.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});a[0]=a[0].replace("`▍`","▍")}let o=/language-(\w+)/.exec(s||"");return n?(0,r.jsx)("code",{className:s,...l,children:a}):(0,r.jsx)(S.dn,{language:o&&o[1]||"",value:String(a).replace(/\n$/,""),...l},Math.random())}},children:t})}function es(e){let{hostname:t,className:n}=e,[a,o]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"relative h-3.5 w-3.5",children:[(0,r.jsx)(l(),{src:i,alt:t,width:14,height:14,className:(0,_.cn)("absolute left-0 top-0 z-0 h-3.5 w-3.5 rounded-full leading-none",n)}),(0,r.jsx)(l(),{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(t),alt:t,width:14,height:14,className:(0,_.cn)("relative z-10 h-3.5 w-3.5 rounded-full bg-card leading-none",n,{"opacity-0":!a}),onLoad:()=>{o(!0)}})]})}function ea(e){let{error:t="Fail to fetch"}=e,n=(0,s.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:t},null,2)+"\n```",[t]);return(0,r.jsx)(q.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[x.Z,h.Z],components:{code(e){let{node:t,inline:n,className:s,children:a,...l}=e;return(0,r.jsx)("div",{...l,className:(0,_.cn)(s,"bg-zinc-950 p-2"),children:a})}},children:n})}},68172:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(36164),s=n(38785);function a(e){let{children:t,fallback:n=null}=e;return(0,s.U)()?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(r.Fragment,{children:n})}},30601:function(e,t,n){"use strict";n.d(t,{Hb:function(){return f},wt:function(){return d},xc:function(){return p},yo:function(){return m}});var r=n(36164),s=n(3546),a=n(74630),l=n(36327),o=n(80605),i=n(74248),c=n(81565);let d="3.5rem",u=s.createContext({}),m=e=>{let{children:t}=e,n=(0,o.UA)(),[l,i]=s.useState(!1);return s.useEffect(()=>{let e=window.self!==window.top;e||(0,a.Z)(n)||i(n)},[n]),(0,r.jsx)(u.Provider,{value:{isShowDemoBanner:l,setIsShowDemoBanner:i},children:t})};function f(){let{isShowDemoBanner:e,setIsShowDemoBanner:t}=s.useContext(u);return[e,t]}function p(){let[e,t]=f(),{data:n}=(0,l.Z)("https://api.github.com/repos/TabbyML/tabby",e=>fetch(e).then(e=>e.json()));return(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center justify-between bg-primary px-4 text-primary-foreground transition-all md:px-5",{"opacity-100 pointer-events-auto":e,"opacity-0 pointer-events-none":!e}),style:e?{height:d}:{height:0},children:[(0,r.jsxs)("a",{href:"https://links.tabbyml.com/schedule-a-demo",target:"_blank",className:"flex items-center gap-x-2 text-xs font-semibold underline md:text-sm",children:[(0,r.jsx)("span",{children:"\uD83D\uDCC6"}),(0,r.jsx)("span",{children:"Book a 30-minute product demo."})]}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 md:gap-x-8",children:[(0,r.jsxs)("a",{href:"https://github.com/TabbyML/tabby",target:"_blank",className:"flex items-center transition-all hover:opacity-70",children:[(0,r.jsx)(c.IconGithub,{}),(0,r.jsxs)("div",{className:"ml-2 hidden md:block",children:[(0,r.jsx)("p",{className:"text-xs font-semibold",children:"TabbyML/tabby"}),(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center text-xs transition-all",{"h-4 opacity-70":n,"h-0 opacity-0":!n}),children:[(0,r.jsx)(c.IconStar,{className:"mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==n?void 0:n.stargazers_count}),(0,r.jsx)(c.IconGitFork,{className:"ml-2 mr-1 h-2.5 w-2.5"}),(0,r.jsx)("span",{children:null==n?void 0:n.forks_count})]})]})]}),(0,r.jsx)(c.IconClose,{className:"cursor-pointer transition-all hover:opacity-70",onClick:()=>t(!1)})]})]})}},94529:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(36164),s=n(3546),a=n(70652),l=n.n(a),o=n(2899),i=n(23455),c=n(40055),d=n(21808),u=n(9010),m=n(70410),f=n(74248),p=n(36065),x=n(84942),h=n(29),g=n(31458),v=n(81565);function j(e){let{onSearch:t,className:n,placeholder:a,showBetaBadge:l,isLoading:o,autoFocus:c,loadingWithSpinning:m,cleanAfterSearch:p=!0,isFollowup:x,extraContext:g}=e,[j,b]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[_,k]=(0,s.useState)(""),[S,C]=(0,s.useState)(),{theme:E}=(0,u.X)(),A=(0,s.useRef)(null),I=()=>{try{let e=sessionStorage.getItem(d.$6.SEARCH_SELECTED_REPO);if(e){let t=JSON.parse(e);t&&C(t)}}catch(e){}};(0,s.useEffect)(()=>{b(!0),I()},[]);let z=e=>{_&&!o&&(null==e||e.stopPropagation(),t(_,{repository:S}),p&&k(""))};(0,s.useEffect)(()=>{(null==g?void 0:g.repository)&&C(null==g?void 0:g.repository)},[g]);let R=!x||!!(null==g?void 0:g.repository);return(0,r.jsxs)("div",{className:(0,f.cn)("relative overflow-hidden rounded-lg border border-muted-foreground bg-background px-4 transition-all hover:border-muted-foreground/60",{"flex-col gap-1 w-full":R,"flex w-full items-center ":!R,"!border-zinc-400":y&&x&&"dark"!==E,"!border-primary":y&&(!x||"dark"===E),"py-0":l,"border-2 dark:border border-zinc-400 hover:border-zinc-400/60 dark:border-muted-foreground dark:hover:border-muted-foreground/60":x},n),onClick:()=>{if(x){var e;null===(e=A.current)||void 0===e||e.focus()}},children:[l&&(0,r.jsxs)(h.u,{delayDuration:0,children:[(0,r.jsx)(h.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"absolute -right-8 top-1 mr-3 rotate-45 rounded-none border-none py-0.5 pl-6 pr-5 text-xs text-primary",style:{background:"dark"===E?"#333":"#e8e1d3"},children:"Beta"})}),(0,r.jsx)(h._v,{sideOffset:-8,className:"max-w-md",children:(0,r.jsx)("p",{children:"Please note that the answer engine is still in its early stages, and certain functionalities, such as finding the correct code context and the quality of summarizations, still have room for improvement. If you encounter an issue and believe it can be enhanced, consider sharing it in our Slack community!"})})]}),(0,r.jsx)(i.Z,{className:(0,f.cn)("text-area-autosize mr-1 w-full flex-1 resize-none rounded-lg !border-none bg-transparent !shadow-none !outline-none !ring-0 !ring-offset-0",{"!h-[48px]":!j,"pt-4":!l,"pt-5":l,"pb-4":!R&&!l,"pb-5":!R&&l}),placeholder:a||"Ask anything...",maxRows:5,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey)return e.preventDefault()},onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey)return z()},onFocus:()=>w(!0),onBlur:()=>w(!1),onChange:e=>k(e.target.value),value:_,autoFocus:c,minRows:x?1:2,ref:A}),(0,r.jsxs)("div",{className:(0,f.cn)("flex items-center justify-between gap-2",{"pb-2":R}),children:[R&&(0,r.jsx)(N,{className:"overflow-hidden",value:S,onChange:C,disabled:x}),(0,r.jsxs)("div",{className:(0,f.cn)("flex items-center justify-center rounded-lg p-1 transition-all",{"bg-primary text-primary-foreground cursor-pointer":_.length>0,"!bg-muted !text-primary !cursor-default":o||0===_.length,"mr-1.5":!l,"h-6 w-6":!x}),onClick:z,children:[m&&o&&(0,r.jsx)(v.IconSpinner,{className:"h-3.5 w-3.5"}),(!m||!o)&&(0,r.jsx)(v.IconArrowRight,{className:"h-3.5 w-3.5"})]})]})]})}function N(e){var t;let{value:n,onChange:a,className:i,disabled:u}=e,[j,N]=(0,s.useState)(!1),[{data:b,fetching:y}]=(0,c.aM)({query:m.zz}),w=null==b?void 0:b.repositoryList,_=(0,s.useMemo)(()=>(null==w?void 0:w.length)?"No results found":(0,r.jsxs)("div",{className:"space-y-4 py-2",children:[(0,r.jsx)("p",{className:"font-semibold",children:"No repositories"}),(0,r.jsxs)(l(),{href:"/settings/providers/git",className:(0,f.cn)((0,g.d)({size:"sm"}),"gap-1"),children:["Connect",(0,r.jsx)(v.IconArrowRight,{})]})]}),[w]),k=e=>{a(e),N(!1),sessionStorage.setItem(d.$6.SEARCH_SELECTED_REPO,JSON.stringify((0,o.Z)(e,"refs")))};return(0,r.jsxs)(h.u,{delayDuration:0,children:[(0,r.jsxs)(x.J2,{open:j,onOpenChange:e=>{u||N(e)},children:[(0,r.jsx)(x.xo,{asChild:!0,children:(0,r.jsx)(h.aJ,{asChild:!0,children:(0,r.jsx)("div",{className:(0,f.cn)((0,g.d)({variant:"ghost"}),"-ml-2 cursor-pointer rounded-full px-2",{"cursor-default hover:bg-transparent":u},i),children:(0,r.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,r.jsx)(v.IconCode,{className:(0,f.cn)("shrink-0",n?"text-foreground/70":"text-foreground/50")}),(0,r.jsx)("span",{className:(0,f.cn)("flex-1 truncate",n?"text-foreground/70":"text-foreground/50"),children:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"Select repository"})]})})})}),(0,r.jsx)(x.i9,{children:(0,r.jsx)(x.yk,{className:"min-w-[300px] lg:max-w-[60vw]",align:"start",side:"bottom",children:(0,r.jsxs)(p.mY,{children:[(0,r.jsx)(p.sZ,{placeholder:"Search"}),(0,r.jsxs)(p.e8,{className:"max-h-[200px]",children:[(0,r.jsx)(p.rb,{children:y?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(v.IconSpinner,{className:"h-6 w-6"})}):_}),(0,r.jsx)(p.fu,{children:null==w?void 0:w.map(e=>{let t=!!(null==n?void 0:n.id)&&"".concat(e.kind,"_").concat(e.id)==="".concat(n.kind,"_").concat(n.id);return(0,r.jsxs)(p.di,{value:"".concat(e.kind,"_").concat(e.id),onSelect:()=>k(e),className:"flex cursor-pointer items-center gap-2 overflow-hidden",children:[(0,r.jsx)("div",{className:"h-4 w-4 shrink-0",children:t&&(0,r.jsx)(v.IconCheck,{className:"shrink-0"})}),(0,r.jsx)("span",{className:"truncate",children:e.name})]},"".concat(e.kind,"_").concat(e.id))})})]}),!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.zz,{}),(0,r.jsx)(p.di,{onSelect:()=>{a(void 0),N(!1),sessionStorage.removeItem(d.$6.SEARCH_SELECTED_REPO)},className:"!pointer-events-auto mt-1 cursor-pointer justify-center text-center !opacity-100",children:"Clear"})]})]})})})]}),(0,r.jsx)(h._v,{className:"max-w-md",children:"Effortlessly interact with your repositories for contextualized search and assistance."})]})}},63743:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(36164),s=n(3546),a=n(9010),l=n(31458),o=n(81565);function i(e){let{className:t}=e,{setTheme:n,theme:i}=(0,a.X)(),[c,d]=s.useTransition();return(0,r.jsxs)(l.z,{variant:"ghost",size:"icon",onClick:()=>{d(()=>{n("light"===i?"dark":"light")})},className:t,children:["dark"===i?(0,r.jsx)(o.IconMoon,{className:"transition-all"}):(0,r.jsx)(o.IconSun,{className:"transition-all"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},36065:function(e,t,n){"use strict";n.d(t,{di:function(){return p},e8:function(){return d},fu:function(){return m},mY:function(){return i},rb:function(){return u},sZ:function(){return c},zz:function(){return f}});var r=n(36164),s=n(3546),a=n(53241),l=n(93170),o=n(74248);n(30220);let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY,{ref:t,className:(0,o.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...s})});i.displayName=a.mY.displayName;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(l.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(a.mY.Input,{ref:t,className:(0,o.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...s})]})});c.displayName=a.mY.Input.displayName;let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.List,{ref:t,className:(0,o.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...s})});d.displayName=a.mY.List.displayName;let u=s.forwardRef((e,t)=>(0,r.jsx)(a.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));u.displayName=a.mY.Empty.displayName;let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.Group,{ref:t,className:(0,o.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...s})});m.displayName=a.mY.Group.displayName;let f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.Separator,{ref:t,className:(0,o.cn)("-mx-1 h-px bg-border",n),...s})});f.displayName=a.mY.Separator.displayName;let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.Item,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",n),...s})});p.displayName=a.mY.Item.displayName},30220:function(e,t,n){"use strict";n.d(t,{$N:function(){return x},Be:function(){return h},Vq:function(){return i},cN:function(){return p},cZ:function(){return m},fK:function(){return f},hg:function(){return c}});var r=n(36164),s=n(3546),a=n(4318),l=n(1663),o=n(74248);let i=a.fC,c=a.xz,d=a.h_;a.x8;let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s})});u.displayName=a.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:n,children:s,...i}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(a.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...i,children:[s,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=a.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};f.displayName="DialogHeader";let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",n),...s})});x.displayName=a.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...s})});h.displayName=a.dk.displayName},62202:function(e,t,n){"use strict";n.d(t,{$F:function(){return i},AW:function(){return d},Ju:function(){return m},VD:function(){return f},Xi:function(){return u},h_:function(){return o}});var r=n(36164),s=n(3546),a=n(19148),l=n(74248);let o=a.fC,i=a.xz;a.ZA,a.Uv,a.Tr,a.Ee;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.tu,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",n),...s})});c.displayName=a.tu.displayName;let d=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...o}=e;return(0,r.jsx)(a.Uv,{children:(0,r.jsx)(a.VY,{ref:t,sideOffset:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...o})})});d.displayName=a.VY.displayName;let u=s.forwardRef((e,t)=>{let{className:n,inset:s,...o}=e;return(0,r.jsx)(a.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",n),...o})});u.displayName=a.ck.displayName;let m=s.forwardRef((e,t)=>{let{className:n,inset:s,...o}=e;return(0,r.jsx)(a.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",n),...o})});m.displayName=a.__.displayName;let f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",n),...s})});f.displayName=a.Z0.displayName},90615:function(e,t,n){"use strict";n.d(t,{Yi:function(){return i},bZ:function(){return c},zs:function(){return o}});var r=n(36164),s=n(3546),a=n(38421),l=n(74248);let o=a.fC,i=a.xz,c=s.forwardRef((e,t)=>{let{className:n,align:s="center",sideOffset:o=4,...i}=e;return(0,r.jsx)(a.VY,{ref:t,align:s,sideOffset:o,className:(0,l.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})});c.displayName=a.VY.displayName},53538:function(e,t,n){"use strict";n.d(t,{Dp:function(){return i},ee:function(){return o},pO:function(){return l}});var r=n(36164),s=n(6618),a=n(74248);let l=e=>{let{className:t,...n}=e;return(0,r.jsx)(s.eh,{className:(0,a.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...n})},o=s.s_,i=e=>{let{withHandle:t,className:n,...l}=e;return(0,r.jsx)(s.OT,{className:(0,a.cn)("border-bg relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",n),...l,children:t&&(0,r.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"})})}},57830:function(e,t,n){"use strict";n.r(t),n.d(t,{ScrollArea:function(){return o},ScrollBar:function(){return i}});var r=n(36164),s=n(3546),a=n(50778),l=n(74248);let o=s.forwardRef((e,t)=>{let{className:n,children:s,...o}=e;return(0,r.jsxs)(a.fC,{ref:t,className:(0,l.cn)("relative overflow-hidden",n),...o,children:[(0,r.jsx)(a.l_,{className:"h-full w-full rounded-[inherit] [&>div]:!block",children:s}),(0,r.jsx)(i,{}),(0,r.jsx)(a.Ns,{})]})});o.displayName=a.fC.displayName;let i=s.forwardRef((e,t)=>{let{className:n,orientation:s="vertical",...o}=e;return(0,r.jsx)(a.gb,{ref:t,orientation:s,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...o,children:(0,r.jsx)(a.q4,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=a.gb.displayName},7449:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(36164),s=n(3546),a=n(11978),l=n(98454),o=n(80605),i=n(91302),c=n(62202),d=n(81565);function u(e){let{children:t,showHome:n=!0,showSetting:u=!1}=e,m=(0,a.useRouter)(),f=(0,i.QJ)(),[{data:p}]=(0,l.P)(),x=null==p?void 0:p.me;(0,o.xG)();let[h,g]=s.useState(!1),v=async e=>{e.preventDefault(),g(!0),await f(),g(!1)};if(x)return(0,r.jsxs)(c.h_,{children:[(0,r.jsx)(c.$F,{children:t}),(0,r.jsxs)(c.AW,{collisionPadding:{right:16},children:[x.name&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Ju,{className:"pb-0.5",children:x.name}),(0,r.jsx)(c.Ju,{className:"pb-1 pt-0 text-sm font-normal text-muted-foreground",children:x.email})]}),!x.name&&(0,r.jsx)(c.Ju,{children:x.email}),(0,r.jsx)(c.VD,{}),n&&(0,r.jsxs)(c.Xi,{onClick:()=>m.push("/"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconHome,{}),(0,r.jsx)("span",{className:"ml-2",children:"Home"})]}),u&&(0,r.jsxs)(c.Xi,{onClick:()=>m.push("/profile"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconGear,{}),(0,r.jsx)("span",{className:"ml-2",children:"Settings"})]}),(0,r.jsxs)(c.Xi,{onClick:()=>window.open("/files"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconCode,{}),(0,r.jsx)("span",{className:"ml-2",children:"Code Browser"})]}),(0,r.jsxs)(c.Xi,{onClick:()=>window.open("/api"),className:"cursor-pointer",children:[(0,r.jsx)(d.IconBackpack,{}),(0,r.jsx)("span",{className:"ml-2",children:"API Docs"})]}),(0,r.jsx)(c.VD,{}),(0,r.jsxs)(c.Xi,{disabled:h,onClick:v,className:"cursor-pointer",children:[(0,r.jsx)(d.IconLogout,{}),(0,r.jsx)("span",{className:"ml-2",children:"Sign out"}),h&&(0,r.jsx)(d.IconSpinner,{className:"ml-1"})]})]})]})}},21808:function(e,t,n){"use strict";n.d(t,{$6:function(){return a},L8:function(){return s},o0:function(){return r}});let r="name@yourcompany.com",s=20,a={DEMO_AUTO_LOGIN:"_tabby_demo_autologin",SEARCH_INITIAL_MSG:"_tabby_search_initial_msg",SEARCH_INITIAL_EXTRA_CONTEXT:"_tabby_search_initial_extra_context",SEARCH_SELECTED_REPO:"_tabby_search_selected_repo"}},93877:function(e,t,n){"use strict";n.d(t,{BT:function(){return i},Ds:function(){return c},Ot:function(){return u},m3:function(){return f}});var r=n(3546);let s=(e,t)=>{let[n,s]=(0,r.useState)(t),[a,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let t=localStorage.getItem(e);t&&s(JSON.parse(t)),l(!1)},[]),[n,t=>{s(t),localStorage.setItem(e,JSON.stringify(t))},a]};class a{get value(){if("undefined"!=typeof localStorage){let e=localStorage.getItem(this.storageKey);if(e)return"true"===e}return this.defaultValue}constructor(e,t,n,r){this.storageKey=e,this.title=t,this.description=n,this.defaultValue=r}}class l{defineGlobalVar(){return new a(this.storageKey,this.title,this.description,this.defaultValue)}defineHook(){return()=>{let[e,t,n]=s(this.storageKey,this.defaultValue);return[{value:e,title:this.title,description:this.description,loading:n},()=>{t(!e)}]}}constructor(e,t,n,r){this.storageKey="EXP_".concat(e),this.title=t,this.description=n,this.defaultValue=null!=r&&r}}let o=new l("enable_code_browser_quick_action_bar","Quick Action Bar","Enable Quick Action Bar to display a convenient toolbar when you select code, offering options to explain the code, add unit tests, and more.",!0),i=o.defineGlobalVar(),c=o.defineHook(),d=new l("enable_search","Search","Enable the search on the home page to search for anything you want to know using the local chat model.",!0);d.defineGlobalVar();let u=d.defineHook(),m=new l("enable_developer_mode","Developer Mode","Enable the developer mode. The features involved include the Answer Engine.",!1);m.defineGlobalVar();let f=m.defineHook()},9010:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(28242);function s(){let{theme:e,systemTheme:t,setTheme:n}=(0,r.F)();return{theme:e&&"system"!==e?e:t||"light",setTheme:n,systemTheme:t}}},38785:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(3546);let s=!0;function a(){let[e,t]=r.useState(()=>!s);return r.useEffect(function(){s=!1,t(!0)},[]),e}},2489:function(){}},function(e){e.O(0,[7998,5498,6312,4007,7950,7980,259,2578,816,1492,4421,7590,1454,5621,4546,8746,9275,4373,6379,739,9148,778,5606,6193,4294,7982,6618,8286,9736,1565,6597,6775,3375,5289,1744],function(){return e(e.s=72845)}),_N_E=e.O()}]);