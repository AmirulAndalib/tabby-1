(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5608],{95588:function(e,t,n){Promise.resolve().then(n.bind(n,22339))},22339:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ex}});var s=n(36164),l=n(3546),a=n(70652),r=n.n(a),i=n(11978),o=n(71480),c=n(43240),d=n(6246),u=n(98454),m=n(70526),f=n(80605),x=n(91302),h=n(11634),p=n(31458),j=n(79972),v=n(81565),g=n(82394),b=n(5266),y=n(11208),w=n(29),N=n(48537),k=n(30220);let Y="community-dialog-shown";function M(){let{status:e}=(0,x.kP)(),[t,n]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{"authenticated"!==e||localStorage.getItem(Y)||(n(!0),localStorage.setItem(Y,"true"))},[e]),(0,s.jsx)(k.Vq,{open:t,onOpenChange:n,children:(0,s.jsxs)(k.cZ,{children:[(0,s.jsxs)(k.fK,{className:"gap-3",children:[(0,s.jsx)(k.$N,{children:"Join the Tabby community"}),(0,s.jsx)(k.Be,{children:"Connect with other contributors building Tabby. Share knowledge, get help, and contribute to the open-source project."})]}),(0,s.jsx)(k.cN,{className:"sm:justify-start",children:(0,s.jsxs)("a",{target:"_blank",href:"https://links.tabbyml.com/join-slack-webserver",className:(0,p.d)(),children:[(0,s.jsx)(v.IconSlack,{className:"-ml-2 h-8 w-8"}),"Join us on Slack"]})})]})})}var C=n(63743),D=n(52569),S=n(94755),T=n(36619),I=n(99092),Z=n.n(I),P=n(28242),_=n(72223),O=n(60079),F=n(82382),R=n(58409),E=n(14404),q=n(89621),z=n(25442),B=n(81040),A=n(16294),K=n(42390),U=n.n(K),H=n(40055),W=n(18500),J=n(63484),Q=n(70410),V=n(3448),$=n(6230),L=n(35814),G=n(39018),X=n.n(G),ee=n(994),et=n(37568);function en(e){let{active:t,payload:n}=e;if(t&&n&&n.length){let{value:e,views:t,name:l}=n[0].payload;return t?(0,s.jsx)(j.Zb,{children:(0,s.jsxs)(j.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 inline-block w-20",children:"Rate:"}),(0,s.jsxs)("b",{children:[e,"%"]})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:l})]})}):null}return null}function es(e){let{active:t,payload:n,type:l}=e;if(t&&n&&n.length){let{views:e,selects:t,name:a}=n[0].payload;return e?(0,s.jsx)(j.Zb,{children:(0,s.jsxs)(j.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[("view"===l||"all"===l)&&(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 inline-block w-20",children:"Completions:"}),(0,s.jsx)("b",{children:e})]}),("accept"===l||"all"===l)&&(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 inline-block w-20",children:"Acceptances:"}),(0,s.jsx)("b",{children:t})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:a})]})}):null}return null}function el(e){let{from:t,to:n,dailyStats:l}=e,{theme:a}=(0,P.F)(),r=(0,L.Z)(null==l?void 0:l.map(e=>e.views)),i=(0,L.Z)(null==l?void 0:l.map(e=>e.selects)),o=(0,T.Z)({start:t,end:n}),c={},d={};null==l||l.forEach(e=>{let t=Z()(e.start).format("YYYY-MM-DD");c[t]=c[t]||0,d[t]=d[t]||0,c[t]+=e.views,d[t]+=e.selects},{});let u=0===r?0:(i/r*100).toFixed(2),m=o.map(e=>{let t=Z()(e).format("YYYY-MM-DD"),n=c[t]||0,s=d[t]||0;return{name:Z()(e).format("MMMM D"),value:0===n?0:parseFloat((s/n*100).toFixed(2)),selects:s,views:n}}),f=o.map(e=>{let t=Z()(e).format("YYYY-MM-DD"),n=c[t]||0,s=d[t]||0,l=n-s;return{name:Z()(e).format("MMMM D"),views:n,selects:s,pending:0===n?.5:l,realPending:0===n?0:l,viewPlaceholder:0===n?.5:0,selectPlaceholder:0===s?.5:0}});return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex w-full flex-col items-center justify-center space-y-5 md:flex-row md:space-x-6 md:space-y-0 xl:justify-start",children:[(0,s.jsxs)(j.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-transparent pb-6 md:block",children:[(0,s.jsx)(j.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-1",children:(0,s.jsx)(j.ll,{className:"text-base font-normal tracking-tight",children:"Acceptance Rate"})}),(0,s.jsx)(j.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[u,"%"]})}),(0,s.jsx)(O.h,{width:"100%",height:60,children:(0,s.jsxs)(ee.w,{data:m,margin:{top:15,right:30,left:20,bottom:5},children:[(0,s.jsx)(et.x,{type:"monotone",dataKey:"value",stroke:"dark"===a?"#e8e1d3":"#54452c",strokeWidth:1.5}),(0,s.jsx)(A.u,{cursor:{fill:"transparent"},content:(0,s.jsx)(en,{})})]})})]}),(0,s.jsxs)(j.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-transparent pb-6 md:block",children:[(0,s.jsx)(j.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-1",children:(0,s.jsx)(j.ll,{className:"text-base font-normal tracking-tight",children:"Completions"})}),(0,s.jsx)(j.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:X()(r).format("0,0")})}),(0,s.jsx)(O.h,{width:"100%",height:60,children:(0,s.jsxs)(F.v,{data:f,margin:{top:0===r?40:5,right:20,left:20,bottom:5},children:[(0,s.jsx)(R.$,{dataKey:"views",stackId:"stats",fill:"dark"===a?"#e8e1d3":"#54452c",radius:3}),(0,s.jsx)(R.$,{dataKey:"viewPlaceholder",stackId:"stats",fill:"dark"===a?"#423929":"#e8e1d3",radius:3}),(0,s.jsx)(A.u,{cursor:{fill:"transparent"},content:(0,s.jsx)(es,{type:"view"})})]})})]}),(0,s.jsxs)(j.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-transparent pb-6 md:block",children:[(0,s.jsx)(j.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-1",children:(0,s.jsx)(j.ll,{className:"text-base font-normal tracking-tight",children:"Acceptances"})}),(0,s.jsx)(j.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:X()(i).format("0,0")})}),(0,s.jsx)(O.h,{width:"100%",height:60,children:(0,s.jsxs)(F.v,{data:f,margin:{top:0===r?40:5,right:20,left:20,bottom:5},children:[(0,s.jsx)(R.$,{dataKey:"selects",stackId:"stats",fill:"dark"===a?"#e8e1d3":"#54452c",radius:3}),(0,s.jsx)(R.$,{dataKey:"selectPlaceholder",stackId:"stats",fill:"dark"===a?"#423929":"#e8e1d3",radius:3}),(0,s.jsx)(A.u,{cursor:{fill:"transparent"},content:(0,s.jsx)(es,{type:"accept"})})]})})]})]})})}function ea(e){let{data:t}=e,{theme:n}=(0,P.F)(),l=(0,S.iP)(),a=l.width||0;return(0,s.jsx)(_.ZP,{data:t,colorScheme:"dark"===n?"dark":"light",theme:{light:["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],dark:["rgb(45, 51, 59)","#0e4429","#006d32","#26a641","#39d353"]},blockSize:a>=1300?13:a>=1e3?8:a>=800?10:9,hideTotalCount:!0,showWeekdayLabels:!0})}let er=e=>{let{x:t,y:n,value:l,languageData:a,theme:r}=e,i=a.find(e=>e.name===l);return i&&0!==i.views?(0,s.jsx)("text",{x:+t,y:+n-7,fill:"dark"===r?"#e8e1d3":"#54452c",fontSize:10,fontWeight:"bold",textAnchor:"start",dominantBaseline:"middle",children:(0,J.t)(l)}):null};function ei(e){let{active:t,payload:n}=e;if(t&&n&&n.length){let{views:e,name:t}=n[0].payload;return e&&"NONE"!==t?(0,s.jsx)(j.Zb,{children:(0,s.jsxs)(j.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 inline-block w-20",children:"Completions:"}),(0,s.jsx)("b",{children:e})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:(0,J.t)(t)})]})}):null}return null}function eo(){var e,t,n;let l,a;let[{data:r}]=(0,u.P)(),{theme:o}=(0,P.F)(),c=(0,i.useSearchParams)(),d=(0,f.UA)(),m=d||"true"===c.get("sample"),x=Z()().subtract(6,"day").startOf("day").utc().format(),h=Z()().endOf("day").utc().format(),[{data:p,fetching:j}]=(0,H.aM)({query:Q.Cl,variables:{start:x,end:h,users:null==r?void 0:null===(e=r.me)||void 0===e?void 0:e.id}});if(m){let e=(0,T.Z)({start:Z()().subtract(6,"day").toDate(),end:Z()().toDate()});l=e.map(e=>{let t=[W.SQ.Typescript,W.SQ.Python,W.SQ.Rust],n=U()(Z()(e).format("YYYY-MM-DD")+(null==r?void 0:r.me.id)),s=Math.ceil(20*n()),l=Math.ceil(s/.35);return{start:Z()(e).utc().format(),end:Z()(e).add(1,"day").utc().format(),completions:l,selects:s,views:l,language:t[s%t.length]}})}else l=null==p?void 0:p.dailyStats.map(e=>({start:e.start,end:e.end,completions:e.completions,selects:e.selects,views:e.views,language:e.language}));let[{data:v,fetching:g}]=(0,H.aM)({query:Q.Y6,variables:{users:null==r?void 0:null===(t=r.me)||void 0===t?void 0:t.id}}),b=0;if(m){let e=(0,T.Z)({start:Z()().toDate(),end:Z()().subtract(365,"days").toDate()});a=e.map(e=>{let t=U()(Z()(e).format("YYYY-MM-DD")+(null==r?void 0:r.me.id)),n=Math.ceil(20*t()),s=n+Math.floor(10*t());return{start:Z()(e).format("YYYY-MM-DD[T]HH:mm:ss[Z]"),end:Z()(e).add(1,"day").format("YYYY-MM-DD[T]HH:mm:ss[Z]"),completions:s,selects:n,views:s}})}else a=null==v?void 0:v.dailyStatsInPastYear.map(e=>({start:e.start,end:e.end,completions:e.completions,selects:e.selects,views:e.views}));let y=(null==a?void 0:a.reduce((e,t)=>{let n=Z().utc(t.start).format("YYYY-MM-DD");return b+=t.views+t.selects,{...e,[n]:t.views}},{}))||{},w=Array(365).fill("").map((e,t)=>{let n=Z()().subtract(t,"days").format("YYYY-MM-DD"),s=y[n]||0;return{date:n,count:s,level:Math.min(4,Math.ceil(s/5))}}).reverse(),N={};null==l||l.forEach(e=>{N[e.language]=N[e.language]||{views:0,name:e.language},N[e.language].views+=e.views});let k=Object.entries(N).map(e=>{let[t,n]=e;return{name:n.name,views:n.views}}).filter(e=>e.views).sort((e,t)=>t.views-e.views).slice(0,5);return(0===k.length&&(k=[{name:"NONE",views:.01}]),null==r?void 0:null===(n=r.me)||void 0===n?void 0:n.id)?(0,s.jsxs)("div",{className:"flex w-full flex-col gap-y-8",children:[(0,s.jsx)($.Z,{loading:g,fallback:(0,s.jsx)(V.O,{className:"h-48"}),children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"mb-2 text-sm font-medium tracking-tight",children:[(0,s.jsx)("b",{children:b})," activities in the last year"]}),(0,s.jsx)("div",{className:"flex items-end justify-center rounded-xl border p-5",children:(0,s.jsx)(ea,{data:w})})]})}),(0,s.jsx)($.Z,{loading:j,fallback:(0,s.jsx)(V.O,{className:"h-48"}),children:(0,s.jsx)(el,{dailyStats:l,from:Z()().subtract(6,"day").toDate(),to:Z()().toDate()})}),(0,s.jsx)($.Z,{loading:j,fallback:(0,s.jsx)(V.O,{className:"h-48"}),children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-2 text-sm font-medium tracking-tight",children:"Top programming languages"}),(0,s.jsx)("div",{className:"flex items-end justify-center rounded-xl border p-5",children:(0,s.jsx)(O.h,{width:"100%",height:(k.length+1)*50,children:(0,s.jsxs)(F.v,{layout:"vertical",data:k,barCategoryGap:12,margin:{top:5,right:5,left:5,bottom:5},children:[(0,s.jsxs)(R.$,{dataKey:"views",radius:3,children:[(0,s.jsx)(E.e,{dataKey:"name",content:(0,s.jsx)(er,{languageData:k,theme:o})}),k.map((e,t)=>{let n=(0,J.zV)(e.name);return(0,s.jsx)(q.b,{fill:n||("dark"===o?"#e8e1d3":"#54452c")},"cell-".concat(t))})]}),(0,s.jsx)(z.K,{type:"number",fontSize:12,allowDecimals:!1}),(0,s.jsx)(B.B,{type:"category",dataKey:"name",hide:!0,padding:{bottom:10}}),(0,s.jsx)(A.u,{cursor:{fill:"transparent"},content:(0,s.jsx)(ei,{})})]})})})]})})]}):(0,s.jsx)(s.Fragment,{})}let ec=(0,c.BX)("\n  mutation ResetUserAuthToken {\n    resetUserAuthToken\n  }\n");function ed(e){let{className:t}=e,[{data:n},l]=(0,u.P)(),a=(0,m.j)(),r=(0,h.D)(ec,{onCompleted:()=>l()});return(null==n?void 0:n.me)?(0,s.jsxs)("div",{className:t,children:[(0,s.jsxs)(j.aY,{className:"flex flex-col gap-6 px-0",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(b._,{className:"text-xs font-semibold",children:"Endpoint URL"}),(0,s.jsx)(N.q,{value:a})]}),(0,s.jsx)("span",{className:"flex items-center gap-1",children:(0,s.jsx)(g.I,{value:a,onChange:o.Z,className:"h-7 max-w-[320px] rounded-none border-x-0 !border-t-0 border-muted-foreground p-0 shadow-none dark:border-primary/50"})})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(b._,{className:"text-xs font-semibold",children:"Token"}),(0,s.jsx)(N.q,{value:n.me.authToken}),(0,s.jsx)(p.z,{title:"Rotate",size:"icon",variant:"hover-destructive",onClick:()=>r(),children:(0,s.jsx)(v.IconRotate,{})})]}),(0,s.jsx)("span",{className:"flex items-center gap-1",children:(0,s.jsx)(g.I,{className:"h-7 max-w-[320px] rounded-none border-x-0 !border-t-0 border-muted-foreground p-0 font-mono shadow-none dark:border-primary/50",value:n.me.authToken,onChange:o.Z})})]})]}),(0,s.jsx)(j.eW,{className:"px-0 pb-2 text-xs text-muted-foreground",children:(0,s.jsxs)("span",{children:["Use information above for IDE extensions / plugins configuration, see"," ",(0,s.jsx)("a",{className:"underline",target:"_blank",href:"https://tabby.tabbyml.com/docs/extensions/configurations#server",children:"documentation website"})," ","for details"]})}),(0,s.jsxs)("div",{className:"mb-6 mt-3 flex gap-x-3 lg:mb-0",children:[(0,s.jsx)(eu,{href:"https://marketplace.visualstudio.com/items?itemName=TabbyML.vscode-tabby",name:"Visual Studio Code",icon:(0,s.jsx)(v.IconVSCode,{className:"h-5 w-5"})}),(0,s.jsx)(eu,{href:"https://plugins.jetbrains.com/plugin/22379-tabby",name:"JetBrains",icon:(0,s.jsx)(v.IconJetBrains,{className:"h-5 w-5"})})]})]}):(0,s.jsx)(s.Fragment,{})}function eu(e){let{href:t,name:n,icon:l}=e;return(0,s.jsxs)(w.u,{children:[(0,s.jsx)(w.aJ,{children:(0,s.jsx)(r(),{href:t,className:"transition-all hover:opacity-80 dark:text-muted-foreground",target:"_blank",children:l})}),(0,s.jsx)(w._v,{children:(0,s.jsx)("p",{children:n})})]})}function em(){let{data:e}=(0,d.Q)(),[{data:t}]=(0,u.P)(),n=(0,f.xG)(),a=(0,x.QJ)(),[r,i]=(0,l.useState)(!1);if(!e||!(null==t?void 0:t.me))return(0,s.jsx)(s.Fragment,{});let o=async()=>{r||(i(!0),await a(),i(!1))};return(0,s.jsx)("div",{className:"flex flex-1 justify-center lg:mt-[10vh]",children:(0,s.jsxs)("div",{className:"mx-auto flex w-screen flex-col px-5 py-20 lg:w-auto lg:flex-row lg:justify-center lg:gap-x-10 lg:px-0 lg:py-10",children:[(0,s.jsxs)("div",{className:"relative mb-5 flex flex-col rounded-lg pb-4 lg:mb-0 lg:mt-12 lg:w-64",children:[(0,s.jsx)(D.Y,{className:"h-20 w-20 border-4 border-background"}),(0,s.jsxs)("div",{className:"mt-2 flex w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[t.me.name&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.IconUser,{className:"text-muted-foreground"}),(0,s.jsx)("p",{className:"max-w-[10rem] truncate text-sm",children:t.me.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.IconMail,{className:"text-muted-foreground"}),(0,s.jsx)("p",{className:"max-w-[10rem] truncate text-sm",children:t.me.email})]})]}),(0,s.jsx)(C.T,{className:"-mt-2 ml-auto"})]}),(0,s.jsx)(y.Z,{className:"my-4"}),(0,s.jsx)(ed,{}),(0,s.jsxs)("div",{className:"mt-auto flex flex-col gap-1 lg:mb-[28px]",children:[(0,s.jsx)(ef,{href:"/profile",icon:(0,s.jsx)(v.IconGear,{}),children:"Settings"}),n&&(0,s.jsx)(ef,{href:"/playground",icon:(0,s.jsx)(v.IconChat,{}),target:"_blank",children:"Chat Playground"}),(0,s.jsx)(ef,{href:"/files",icon:(0,s.jsx)(v.IconCode,{}),target:"_blank",children:"Code Browser"}),(0,s.jsxs)(ef,{icon:(0,s.jsx)(v.IconLogout,{}),onClick:o,children:[(0,s.jsx)("span",{children:"Sign out"}),r&&(0,s.jsx)(v.IconSpinner,{className:"ml-1"})]})]})]}),(0,s.jsx)("div",{className:"lg:min-h-[700px] lg:w-[calc(100vw-30rem)] xl:w-[62rem]",children:(0,s.jsx)(eo,{})})]})})}function ef(e){let{children:t,icon:n,href:l,target:a,onClick:r}=e,o=(0,i.useRouter)();return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"text-muted-foreground",children:n}),(0,s.jsx)("div",{className:"flex cursor-pointer items-center gap-1 text-sm transition-opacity hover:opacity-50",onClick:e=>{if(e.stopPropagation(),r)return r();if(l){if("_blank"===a)return window.open(l);o.push(l)}},children:t})]})}function ex(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(em,{}),(0,s.jsx)(M,{})]})}},48537:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var s=n(36164);n(3546);var l=n(28312),a=n(31458),r=n(81565);function i(e){let{className:t,value:n,...i}=e,{isCopied:o,copyToClipboard:c}=(0,l.m)({timeout:2e3});return n?(0,s.jsxs)(a.z,{variant:"ghost",size:"icon",className:t,onClick:()=>{o||c(n)},...i,children:[o?(0,s.jsx)(r.IconCheck,{className:"text-green-600"}):(0,s.jsx)(r.IconCopy,{}),(0,s.jsx)("span",{className:"sr-only",children:"Copy"})]}):null}},63743:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var s=n(36164),l=n(3546),a=n(28242),r=n(31458),i=n(81565);function o(e){let{className:t}=e,{setTheme:n,theme:o}=(0,a.F)(),[c,d]=l.useTransition();return(0,s.jsxs)(r.z,{variant:"ghost",size:"icon",onClick:()=>{d(()=>{n("light"===o?"dark":"light")})},className:t,children:["dark"===o?(0,s.jsx)(i.IconMoon,{className:"transition-all"}):(0,s.jsx)(i.IconSun,{className:"transition-all"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},82394:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var s=n(36164),l=n(3546),a=n(74248);let r=l.forwardRef((e,t)=>{let{className:n,type:l,...r}=e;return(0,s.jsx)("input",{type:l,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})});r.displayName="Input"},5266:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var s=n(36164),l=n(3546),a=n(90893),r=n(14375),i=n(74248);let o=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,s.jsx)(a.f,{ref:t,className:(0,i.cn)(o(),n),...l})});c.displayName=a.f.displayName},29:function(e,t,n){"use strict";n.d(t,{_v:function(){return d},aJ:function(){return c},pn:function(){return i},u:function(){return o}});var s=n(36164),l=n(3546),a=n(44421),r=n(74248);let i=a.zt,o=a.fC,c=a.xz,d=l.forwardRef((e,t)=>{let{className:n,sideOffset:l=4,...i}=e;return(0,s.jsx)(a.VY,{ref:t,sideOffset:l,className:(0,r.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-xs font-medium text-popover-foreground shadow-md animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",n),...i})});d.displayName=a.VY.displayName},52569:function(e,t,n){"use strict";n.d(t,{Y:function(){return g},n:function(){return b}});var s=n(36164),l=n(3546),a=n(87782),r=n(21454),i=n(36327),o=n(98454),c=n(3765),d=n(74248),u=n(66612);let m=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,s.jsx)(u.fC,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...l})});m.displayName=u.fC.displayName;let f=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,s.jsx)(u.Ee,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",n),...l})});f.displayName=u.Ee.displayName;let x=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,s.jsx)(u.NY,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...l})});x.displayName=u.NY.displayName;var h=n(3448),p=n(30410).lW;let j="not_found",v=!0;function g(e){var t,n,r,u;let{className:g,fallback:b}=e,[{data:y}]=(0,o.P)(),w=null==y?void 0:y.me.id,N=w&&"/avatar/".concat(y.me.id)||null,{data:k,isLoading:Y,error:M}=(0,i.Z)(N,e=>{if(v)return(0,c.Z)(e,{responseFormatter:async e=>{let t=await e.blob(),n=p.from(await t.arrayBuffer());return"data:image/png;base64,".concat(n.toString("base64"))},errorHandler:e=>{if(404===e.status)throw Error(j)}})}),C=l.useMemo(()=>{var e;if(null==y?void 0:null===(e=y.me)||void 0===e?void 0:e.email)return(0,a.B)(y.me.email)},[null==y?void 0:null===(t=y.me)||void 0===t?void 0:t.email]);return Y?(0,s.jsx)(h.O,{className:(0,d.cn)("h-16 w-16 rounded-full",g)}):((null==M?void 0:M.message)===j&&(v=!1),k||C||!b)?!k&&C?(0,s.jsx)(a.Z,{className:(0,d.cn)("h-16 w-16",g),...C}):(0,s.jsxs)(m,{className:(0,d.cn)("h-16 w-16",g),children:[(0,s.jsx)(f,{src:k,alt:null==y?void 0:null===(n=y.me)||void 0===n?void 0:n.email,className:"object-cover"}),(0,s.jsx)(x,{children:null==y?void 0:null===(u=y.me)||void 0===u?void 0:null===(r=u.email)||void 0===r?void 0:r.substring(0,2)})]}):b}let b=e=>{v=!0,(0,r.JG)("/avatar/".concat(e))}},28312:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var s=n(3546),l=n(61200),a=n.n(l),r=n(2578);function i(e){let{timeout:t=2e3,onError:n}=e,[l,i]=s.useState(!1),o=()=>{i(!0),setTimeout(()=>{i(!1)},t)},c=e=>{if("function"==typeof n){null==n||n(e);return}r.A.error("Failed to copy.")};return{isCopied:l,copyToClipboard:e=>{var t;if(e){if(null===(t=navigator.clipboard)||void 0===t?void 0:t.writeText)navigator.clipboard.writeText(e).then(o).catch(c);else{let t=a()(e);t?o():c()}}}}}},6246:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var s=n(21454),l=n(3765);function a(){return(0,s.ZP)("/v1/health",e=>(0,l.Z)(e,{errorHandler:()=>{throw Error("Unhealth")}}),{shouldRetryOnError:!1})}},98454:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var s=n(40055),l=n(43240);let a=(0,l.BX)("\n  query MeQuery {\n    me {\n      id\n      authToken\n      email\n      isAdmin\n      isPasswordSet\n      name\n    }\n  }\n"),r=()=>(0,s.aM)({query:a})},70526:function(e,t,n){"use strict";n.d(t,{e:function(){return o},j:function(){return c}});var s=n(3546),l=n(40055),a=n(43240),r=n(74248);let i=(0,a.BX)("\n  query NetworkSetting {\n    networkSetting {\n      externalUrl\n    }\n  }\n"),o=e=>(0,l.aM)({query:i,...e}),c=()=>{let[{data:e}]=o(),t=null==e?void 0:e.networkSetting,n=s.useMemo(()=>(null==t?void 0:t.externalUrl)||((0,r.S_)()?new URL(window.location.href).origin:""),[t]);return n}},3765:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(44745),l=n(57778),a=n(79716),r=n(91302),i=n(66794);async function o(e,t){var n;let s=null!==(n=null==t?void 0:t.customFetch)&&void 0!==n?n:window.fetch;if(function(e){var t;if(e.startsWith("/oauth/providers"))return!1;let n=null===(t=(0,i.bW)())||void 0===t?void 0:t.accessToken;if(!n)return!0;try{let{exp:e}=(0,a.o)(n);return(0,i.pw)(e)}catch(e){return!0}}(e))return i.gN.refreshToken(c).then(n=>m(e,t));let l=await s(e,d(t));return 401===l.status?(i.gN.clearAccessToken(),i.gN.refreshToken(c).then(n=>m(e,t))):f(l,t)}async function c(){var e,t;let n=null===(e=(0,i.bW)())||void 0===e?void 0:e.refreshToken;if(!n)return;let s=await u(n);return null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.refreshToken}function d(e){var t;let n=new Headers(null==e?void 0:e.headers);return n.append("authorization","Bearer ".concat(null===(t=(0,i.bW)())||void 0===t?void 0:t.accessToken)),{...e||{},headers:n}}async function u(e){let t=new s.KU({url:"/graphql",requestPolicy:"network-only",exchanges:[s.Ek]}),n=t.createRequestOperation("mutation",(0,l.h)(r.Dp,{refreshToken:e}));return t.executeMutation(n)}function m(e,t){var n;let s=null!==(n=null==t?void 0:t.customFetch)&&void 0!==n?n:window.fetch;return s(e,d(t)).then(e=>f(e,t))}function f(e,t){return(null==e?void 0:e.ok)?(null==t?void 0:t.responseFormatter)?t.responseFormatter(e):(null==t?void 0:t.responseFormat)==="blob"?e.blob():e.json():(null==t?void 0:t.errorHandler)?t.errorHandler(e):void 0}}},function(e){e.O(0,[7565,872,55,3004,2178,652,6201,2578,3449,9421,3957,4553,2570,1454,2672,4546,9275,5169,3328,7444,1565,410,3396,716,3375,5289,1744],function(){return e(e.s=95588)}),_N_E=e.O()}]);