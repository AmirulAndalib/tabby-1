"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{20325:function(e,t,n){n.r(t),n.d(t,{OAuthCredentialList:function(){return y},oauthCredential:function(){return N}});var r=n(36164),a=n(3546),s=n(70652),l=n.n(s),i=n(11978),d=n(1853),o=n(826),c=n(40055),u=n(43240),f=n(18500),m=n(31458),h=n(79972),x=n(81565),p=n(3448),v=n(35402),g=n(6230);let j=[{name:"github",enum:f.O4.Github,meta:{domain:"github.com",displayName:"GitHub"}},{name:"google",enum:f.O4.Google,meta:{domain:"google.com",displayName:"Google"}},{name:"gitlab",enum:f.O4.Gitlab,meta:{domain:"gitlab.com",displayName:"GitLab"}}];var b=n(49694);let N=(0,u.BX)("\n  query OAuthCredential($provider: OAuthProvider!) {\n    oauthCredential(provider: $provider) {\n      provider\n      clientId\n      createdAt\n      updatedAt\n    }\n  }\n"),y=()=>{let[{data:e,fetching:t}]=(0,c.aM)({query:N,variables:{provider:f.O4.Github}}),[{data:n,fetching:s}]=(0,c.aM)({query:N,variables:{provider:f.O4.Google}}),[{data:o,fetching:u}]=(0,c.aM)({query:N,variables:{provider:f.O4.Gitlab}}),h=a.useMemo(()=>(0,d.Z)([null==e?void 0:e.oauthCredential,null==n?void 0:n.oauthCredential,null==o?void 0:o.oauthCredential]),[e,n,o]),x=(0,i.useRouter)(),j=(0,r.jsx)(v.M,{licenses:[f.oj.Enterprise],children:e=>{let{hasValidLicense:t}=e;return(0,r.jsx)(m.z,{disabled:!t,onClick:()=>x.push("/settings/sso/new"),children:"Create"})}});return(null==h?void 0:h.length)?(0,r.jsxs)("div",{children:[(0,r.jsx)(b.J,{}),(0,r.jsx)("div",{className:"flex flex-col gap-8",children:h.map(e=>(0,r.jsx)(w,{data:e},e.provider))}),h.length<3&&(0,r.jsx)("div",{className:"mt-4 flex justify-end",children:j})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(b.J,{}),(0,r.jsx)(g.Z,{loading:t||s||u,fallback:(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)(p.O,{className:"h-[180px] w-full rounded-xl"}),(0,r.jsx)(p.O,{className:"h-[180px] w-full rounded-xl"})]}),children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 rounded-lg border-4 border-dashed py-8",children:[(0,r.jsx)("div",{children:"No Data"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(l(),{href:"/settings/sso/new",className:(0,m.d)({variant:"default"}),children:"Create"})})]})})]})},w=e=>{let{data:t}=e,n=a.useMemo(()=>{var e;return null===(e=(0,o.Z)(j,{enum:null==t?void 0:t.provider}))||void 0===e?void 0:e.meta},[t]);return t?(0,r.jsxs)(h.Zb,{children:[(0,r.jsx)(h.Ol,{className:"border-b p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(h.ll,{className:"flex items-center gap-2 text-xl",children:[(0,r.jsx)(O,{provider:t.provider}),(null==n?void 0:n.displayName)||t.provider]}),(0,r.jsx)(l(),{href:"/settings/sso/detail/".concat(t.provider.toLowerCase()),className:(0,m.d)({variant:"secondary"}),children:"View"})]})}),(0,r.jsxs)(h.aY,{className:"p-0 text-sm",children:[(0,r.jsxs)("div",{className:"flex border-b px-8 py-4",children:[(0,r.jsx)("span",{className:"w-[100px]",children:"Type"}),(0,r.jsx)("span",{children:"OAuth 2.0"})]}),(0,r.jsxs)("div",{className:"flex px-8 py-4",children:[(0,r.jsx)("span",{className:"w-[100px] shrink-0",children:"Domain"}),(0,r.jsx)("span",{className:"truncate",children:null==n?void 0:n.domain})]})]})]}):null};function O(e){let{provider:t}=e;switch(t){case f.O4.Github:return(0,r.jsx)(x.IconGitHub,{className:"h-6 w-6"});case f.O4.Google:return(0,r.jsx)(x.IconGoogle,{className:"h-6 w-6"});case f.O4.Gitlab:return(0,r.jsx)(x.IconGitLab,{className:"h-6 w-6"});default:return null}}},49694:function(e,t,n){n.d(t,{J:function(){return s}});var r=n(36164),a=n(74248);n(81565);let s=e=>{let{className:t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("min-h-8 mb-4 flex items-center gap-4",t),children:(0,r.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:["Single Sign-On (SSO) is an authentication method that enables users to authenticate with multiple applications and websites via a single set of credentials.",!1]})})}},35402:function(e,t,n){n.d(t,{M:function(){return p}});var r=n(36164),a=n(3546),s=n(70652),l=n.n(s),i=n(59741),d=n(18500),o=n(29917),c=n(74248),u=n(31458),f=n(38421);let m=f.fC,h=f.xz,x=a.forwardRef((e,t)=>{let{className:n,align:a="center",sideOffset:s=4,...l}=e;return(0,r.jsx)(f.VY,{ref:t,align:a,sideOffset:s,className:(0,c.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...l})});x.displayName=f.VY.displayName;let p=e=>{let{licenses:t,children:n}=e,[s,f]=a.useState(!1),p=(0,o.Gm)(),v=!!p&&p.status===d.Rj.Ok&&t.includes(p.type),g=e=>{v||f(e)},j=(0,i.Z)(t[0]),b=j;return 2==t.length&&(b="".concat((0,i.Z)(t[0])," or ").concat((0,i.Z)(t[1]))),(0,r.jsxs)(m,{open:s,onOpenChange:g,openDelay:100,children:[(0,r.jsxs)(x,{side:"top",collisionPadding:16,className:"w-[400px]",children:[(0,r.jsxs)("div",{children:["This feature is only available on Tabby's"," ",(0,r.jsx)("span",{className:"font-semibold",children:b})," plan. Upgrade to use this feature."]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)(l(),{className:(0,u.d)(),href:"/settings/subscription",children:["Upgrade to ",j]})})]}),(0,r.jsx)(h,{asChild:!0,onClick:e=>{v||(e.preventDefault(),g(!0))},children:(0,r.jsx)("div",{className:(0,c.cn)(v?"":"cursor-not-allowed"),children:n({hasValidLicense:v,license:p})})})]})};p.displayName="LicenseGuard"},6230:function(e,t,n){var r=n(36164),a=n(3546),s=n(24449),l=n(90379);t.Z=e=>{let{loading:t,fallback:n,delay:i,children:d}=e,[o,c]=a.useState(!t),[u]=(0,s.n)(o,null!=i?i:200);return(a.useEffect(()=>{t||o||c(!0)},[t]),u)?d:n||(0,r.jsx)(l.cg,{})}},90379:function(e,t,n){n.d(t,{PF:function(){return d},cg:function(){return l},tB:function(){return i}});var r=n(36164),a=n(74248),s=n(3448);let l=e=>{let{className:t,...n}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("space-y-3",t),...n,children:[(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-full"})]})},i=e=>{let{className:t,...n}=e;return(0,r.jsx)(s.O,{className:(0,a.cn)("h-4 w-full",t),...n})},d=e=>{let{className:t,...n}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col gap-3",t),...n,children:[(0,r.jsx)(s.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(s.O,{className:"h-4 w-full"}),(0,r.jsx)(s.O,{className:"h-4 w-[20%]"}),(0,r.jsx)(s.O,{className:"h-4 w-full"})]})}},31458:function(e,t,n){n.d(t,{d:function(){return d},z:function(){return o}});var r=n(36164),a=n(3546),s=n(74047),l=n(14375),i=n(74248);let d=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90","hover-destructive":"shadow-none hover:bg-destructive/90 hover:text-destructive-foreground",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"shadow-none hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 shadow-none hover:underline"},size:{default:"h-8 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-8 w-8 p-0"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:n,variant:a,size:l,asChild:o=!1,...c}=e,u=o?s.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(d({variant:a,size:l,className:n})),ref:t,...c})});o.displayName="Button"},79972:function(e,t,n){n.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var r=n(36164),a=n(3546),s=n(74248);let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});u.displayName="CardFooter"},3448:function(e,t,n){n.d(t,{O:function(){return s}});var r=n(36164),a=n(74248);function s(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("h-4 animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",t),...n})}},24449:function(e,t,n){n.d(t,{S:function(){return i},n:function(){return d}});var r=n(3546),a=n(45391),s=n(16784);let l=e=>{let t=(0,s.d)(e);r.useEffect(()=>()=>{t.current()},[])};function i(e,t,n){let i=(0,s.d)(e),d=r.useMemo(()=>(0,a.Z)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.current(...t)},t,n),[]);return l(()=>d.cancel()),{run:d,cancel:d.cancel,flush:d.flush}}function d(e,t,n){let[a,s]=r.useState(e),{run:l}=i(()=>{s(e)},t,n);return r.useEffect(()=>{l()},[e]),[a,s]}},16784:function(e,t,n){n.d(t,{d:function(){return a}});var r=n(3546);function a(e){let t=r.useRef(e);return t.current=e,t}},29917:function(e,t,n){n.d(t,{Gm:function(){return i},jp:function(){return l}});var r=n(40055),a=n(43240);let s=(0,a.BX)("\n  query GetLicenseInfo {\n    license {\n      type\n      status\n      seats\n      seatsUsed\n      issuedAt\n      expiresAt\n    }\n  }\n"),l=()=>(0,r.aM)({query:s}),i=()=>{let[{data:e}]=l();return null==e?void 0:e.license}}}]);